(function(e){function t(t){for(var a,r,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={"main-form":0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([2,"chunk-vendors","chunk-common"]),n()})({"01f3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Small title",name:e.fieldName("small_title"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Title",name:e.fieldName("title"),type:"text","in-store":"value"}}),n("a17-vselect",{attrs:{label:"Shape of images",name:e.fieldName("images_shape"),options:[{value:1,label:"Circle"},{value:2,label:"Square"}],placeholder:"Select image shape","has-default-store":!0,size:"large","in-store":"inputValue"}}),n("a17-inputframe",{attrs:{label:"Image left column",name:"medias.left_column_image"}},[n("a17-mediafield",{attrs:{name:e.fieldName("left_column_image"),"crop-context":"left_column_image"}})],1),e._v(" "),n("a17-textfield",{attrs:{label:"Subheading left column",name:e.fieldName("left_column_subheading"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Content left column",name:e.fieldName("left_column_content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:500,"in-store":"value"}}),n("a17-inputframe",{attrs:{label:"Image middle column",name:"medias.middle_column_image"}},[n("a17-mediafield",{attrs:{name:e.fieldName("middle_column_image"),"crop-context":"middle_column_image"}})],1),e._v(" "),n("a17-textfield",{attrs:{label:"Subheading middle column",name:e.fieldName("middle_column_subheading"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Content middle column",name:e.fieldName("middle_column_content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:500,"in-store":"value"}}),n("a17-inputframe",{attrs:{label:"Image right column",name:"medias.right_column_image"}},[n("a17-mediafield",{attrs:{name:e.fieldName("right_column_image"),"crop-context":"right_column_image"}})],1),e._v(" "),n("a17-textfield",{attrs:{label:"Subheading right column",name:e.fieldName("right_column_subheading"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Content right column",name:e.fieldName("right_column_content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:500,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"0bd3":function(e,t,n){"use strict";var a=n("a298"),i=n.n(a);i.a},"0dd6":function(e,t,n){},"109f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-wysiwyg-tiptap",{attrs:{name:e.fieldName("html"),label:"Body",options:{modules:{toolbar:["table"],syntax:!1}},placeholder:"Insert your table",editSource:"true",inStore:"value"}})],1)},i=[],o=n("f0f8"),r={name:"A17Bodytable",mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},1322:function(e,t,n){},1591:function(e,t,n){var a={"./BabysitterAvailability.vue":"aa19","./InterviewsAvailability.vue":"b221"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="1591"},1731:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-colorfield",{attrs:{label:"Line colour",name:e.fieldName("color"),"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},2:function(e,t,n){e.exports=n("f618")},"25a5":function(e,t,n){},"25ba":function(e,t,n){},2741:function(e,t,n){},2774:function(e,t,n){"use strict";var a=n("e689"),i=n.n(a);i.a},"2d34":function(e,t,n){"use strict";var a=n("e718"),i=n.n(a);i.a},"2f7f":function(e,t,n){"use strict";var a=n("3d14"),i=n.n(a);i.a},"33d8":function(e,t,n){"use strict";var a=n("5886"),i=n.n(a);i.a},3565:function(e,t,n){"use strict";var a=n("d43d"),i=n.n(a);i.a},"3a97":function(e,t,n){},"3d14":function(e,t,n){},"3f1c":function(e,t,n){},"3fee":function(e,t,n){"use strict";var a=n("3f1c"),i=n.n(a);i.a},"4be3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-vselect",{attrs:{label:"Column setup",name:e.fieldName("column_setup"),options:[{value:1,label:"Left text, right image"},{value:2,label:"Left image, right text"}],placeholder:"Select column setup","has-default-store":!0,size:"large","in-store":"inputValue"}}),n("a17-textfield",{attrs:{label:"Title",name:e.fieldName("title"),type:"text","in-store":"value"}}),n("a17-vselect",{attrs:{label:"Title font size",name:e.fieldName("title_font_size"),options:[{value:1,label:"Large"},{value:2,label:"Medium"},{value:3,label:"Small"}],"has-default-store":!0,size:"large","in-store":"inputValue"}}),n("a17-colorfield",{attrs:{label:"Title font colour",name:e.fieldName("title_font_colour"),"in-store":"value"}}),n("a17-colorfield",{attrs:{label:"Title line colour",name:e.fieldName("title_line_colour"),"in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Content",name:e.fieldName("content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:500,"in-store":"value"}}),n("a17-inputframe",{attrs:{label:"Image",name:"medias.cover"}},[n("a17-mediafield",{attrs:{name:e.fieldName("cover"),"crop-context":"cover"}})],1),e._v(" "),n("a17-textfield",{attrs:{label:"Button text",name:e.fieldName("button_text"),type:"text","in-store":"value"}}),n("a17-vselect",{attrs:{label:"Button style",name:e.fieldName("button_style"),options:[{value:"primary",label:"Primary"},{value:"secondary",label:"Secondary"},{value:"dark",label:"Dark"},{value:"primary_outlined",label:"Primary outlined"},{value:"secondary_outlined",label:"Secondary outlined"},{value:"dark_outlined",label:"Dark outlined"}],"has-default-store":!0,size:"large","in-store":"inputValue"}}),n("a17-inputframe",{attrs:{label:"Button page url",name:"browsers.pages"}},[n("a17-browserfield",{attrs:{name:e.fieldName("pages"),"item-label":"button page url",max:1,wide:!1,endpoint:"/admin/cms/pages/browser",endpoints:[],"modal-title":"Attach button page url",draggable:!0}},[e._v("Add one button page url")])],1)],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},5183:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Left column title",name:e.fieldName("title_left"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Left column content",name:e.fieldName("content_left"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:1e3,"in-store":"value"}}),n("a17-textfield",{attrs:{label:"Right column title",name:e.fieldName("title_right"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Right column content",name:e.fieldName("content_right"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:1e3,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"548b":function(e,t,n){},5886:function(e,t,n){},"5a9f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Small title",name:e.fieldName("small_title"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Title",name:e.fieldName("title"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Bullet 1",name:e.fieldName("bullet_1"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Bullet 2",name:e.fieldName("bullet_2"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Bullet 3",name:e.fieldName("bullet_3"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Bullet 4",name:e.fieldName("bullet_4"),type:"text","in-store":"value"}}),n("a17-inputframe",{attrs:{label:"Image",name:"medias.cover"}},[n("a17-mediafield",{attrs:{name:e.fieldName("cover"),"crop-context":"cover"}})],1),e._v(" "),n("a17-wysiwyg",{attrs:{label:"Content",name:e.fieldName("content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:750,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"5f07":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Left column title",name:e.fieldName("title_left"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Left column content",name:e.fieldName("content_left"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:1e3,"in-store":"value"}}),n("a17-textfield",{attrs:{label:"Middle column title",name:e.fieldName("title_center"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Middle column content",name:e.fieldName("content_center"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:1e3,"in-store":"value"}}),n("a17-textfield",{attrs:{label:"Right column title",name:e.fieldName("title_right"),type:"text","in-store":"value"}}),n("a17-wysiwyg",{attrs:{label:"Right column content",name:e.fieldName("content_right"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:1e3,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"611f":function(e,t,n){"use strict";var a=n("7de1"),i=n.n(a);i.a},"62c8":function(e,t,n){"use strict";var a=n("a8c7"),i=n.n(a);i.a},"69f2":function(e,t,n){"use strict";var a=n("0dd6"),i=n.n(a);i.a},"6b23":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:"Title",name:e.fieldName("text"),type:"text",maxlength:250,inStore:"value"}}})],1)},i=[],o=n("f0f8"),r={name:"A17Title",mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"6b9b":function(e,t,n){"use strict";var a=n("c830"),i=n.n(a);i.a},"78a7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Quote",name:e.fieldName("quote"),type:"textarea",required:!0,maxlength:250,rows:3,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},"7de1":function(e,t,n){},"7ebf":function(e,t,n){"use strict";var a=n("faa7"),i=n.n(a);i.a},"80d1":function(e,t,n){},"912f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-wysiwyg",{attrs:{name:e.fieldName("html"),inStore:"value"}})],1)},i=[],o=n("f0f8"),r={name:"A17Bodytext",mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},9748:function(e,t,n){var a={"./Block.vue":"ecec","./BlockImage.vue":"ac09","./BlockTable.vue":"109f","./BlockTitle.vue":"6b23","./BlockWysiwyg.vue":"912f","./customs/BlockAsymmetric_2_Columns.vue":"be5f","./customs/BlockChild.vue":"ee22","./customs/BlockDivider.vue":"1731","./customs/BlockFeatured_Elements.vue":"a413","./customs/BlockHow_Tripsitta_Works.vue":"5a9f","./customs/BlockImage.vue":"e444","./customs/BlockLanguage.vue":"cdb3","./customs/BlockLarge_2_Column.vue":"4be3","./customs/BlockQuote.vue":"78a7","./customs/BlockSpecial_3_Columns.vue":"01f3","./customs/BlockText.vue":"b34c","./customs/BlockText_2_Column.vue":"5183","./customs/BlockText_3_Column.vue":"5f07","./customs/BlockTripsitta_Slogan.vue":"a425"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="9748"},9881:function(e,t,n){"use strict";var a=n("f3e7"),i=n.n(a);i.a},"98a8":function(e,t,n){},9922:function(e,t,n){"use strict";var a=n("98a8"),i=n.n(a);i.a},a298:function(e,t,n){},a413:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Small title",name:e.fieldName("small_title"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Title",name:e.fieldName("title"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Button text",name:e.fieldName("button_text"),type:"text","in-store":"value"}}),n("a17-vselect",{attrs:{label:"Type",name:e.fieldName("type"),options:[{value:1,label:"Babysitters"},{value:2,label:"Places"}],placeholder:"Select featured element","has-default-store":!0,size:"large","in-store":"inputValue"}}),n("a17-inputframe",{attrs:{label:"Button url",name:"browsers.pages"}},[n("a17-browserfield",{attrs:{name:e.fieldName("pages"),"item-label":"button url",max:1,wide:!1,endpoint:"/admin/cms/pages/browser",endpoints:[],"modal-title":"Attach button url",draggable:!0}},[e._v("Add one button url")])],1)],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},a425:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-wysiwyg",{attrs:{label:"Content",name:e.fieldName("content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:500,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},a70b:function(e,t,n){"use strict";var a=n("548b"),i=n.n(a);i.a},a8c7:function(e,t,n){},aa19:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"babysitter-availability"},[n("v-calendar",{attrs:{"is-expanded":"",columns:2,rows:2,attributes:e.availability_array},on:{dayclick:e.dayClick}}),n("div",{staticClass:"legend"},["babysitter"===e.calendar_type||"bookings"===e.calendar_type?[n("span",{staticClass:"block-bd"}),e._v(" Babysitter - Day "),n("span",{staticClass:"block-bn"}),e._v(" Babysitter - Night ")]:e._e(),"holiday_nanny"===e.calendar_type||"bookings"===e.calendar_type?[n("span",{staticClass:"block-h"}),e._v(" Holiday nanny ")]:e._e()],2),"bookings"!==e.calendar_type?n("input",{attrs:{type:"hidden",name:"availability_"+e.calendar_type},domProps:{value:this.datesToJson()}}):e._e()],1)},i=[],o=n("0dae"),r=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"BabysitterAvailability",props:{calendar_type:{type:String},babysitter_availability:{type:Object},holiday_nanny_availability:{type:Array},bookings:{type:Array}},created:function(){this.setAvailabilityArray()},data:function(){return{availability_array:[],availability:{bm:{bar:"orange",popover:{label:"Available as Babysitter - Morning"},dates:this.babysitter_availability.day},be:{bar:"blue",popover:{label:"Available as Babysitter - Evening"},dates:this.babysitter_availability.night},hn:{bar:"red",popover:{label:"Available as Holiday nanny"},dates:this.holiday_nanny_availability},b:s({},this.bookings.map((function(e){return{dates:e.dates,bar:e.color,popover:{label:e.description}}})))}}},computed:{},methods:{dayClick:function(e){var t=this;if("holiday_nanny"===this.calendar_type){if(!e.attributes||e.attributes.length<=0)return this.availability.hn.dates.push(e.id),void this.setAvailabilityArray();e.attributes.map((function(n){if("red"===n.bar.base.color){var a=e.date;a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a=a.toJSON().slice(0,10);var i=t.availability.hn.dates.indexOf(a);i>=0&&t.availability.hn.dates.splice(i,1),t.setAvailabilityArray()}}))}else if("babysitter"===this.calendar_type){if(!e.attributes||e.attributes.length<=0)return this.availability.be.dates.push(e.id),this.availability.bm.dates.push(e.id),void this.setAvailabilityArray();var n=e.date;n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n=n.toJSON().slice(0,10);var a=this.availability.be.dates.indexOf(n),i=this.availability.bm.dates.indexOf(n);a>=0&&i>=0?this.availability.bm.dates.splice(i,1):a>=0&&-1===i?(this.availability.be.dates.splice(a,1),this.availability.bm.dates.push(e.id)):i>=0&&-1===a&&this.availability.bm.dates.splice(i,1),this.setAvailabilityArray()}},setAvailabilityArray:function(){return"holiday_nanny"===this.calendar_type?(this.availability_array=[this.availability.hn],void this.updateVuex()):"babysitter"===this.calendar_type?(this.availability_array=[this.availability.bm,this.availability.be],void this.updateVuex()):(this.availability_array=Object.values(this.availability.b),void this.updateVuex())},updateVuex:function(){window["TWILL"].STORE.form.fields.push({name:"availability_"+this.calendar_type,value:this.datesToJson()})},datesToJson:function(){return JSON.stringify(this.availability_array)}},components:{"v-calendar":r.a}},d=u,p=(n("69f2"),n("2877")),f=Object(p["a"])(d,a,i,!1,null,null,null);t["default"]=f.exports},ac09:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-inputframe",{attrs:{label:"Image",name:"medias.image"}},[n("a17-mediafield",{attrs:{name:e.fieldName("image"),"crop-context":"image"}})],1)],1)},i=[],o=n("f0f8"),r={name:"A17Image",mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},ac28:function(e,t,n){},af57:function(e,t,n){"use strict";var a=n("25a5"),i=n.n(a);i.a},b0c8:function(e,t,n){"use strict";var a=n("80d1"),i=n.n(a);i.a},b221:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"babysitter-availability"},[n("v-calendar",{attrs:{"is-expanded":"",columns:2,rows:3,attributes:e.av},on:{dayclick:e.dayClick}}),n("input",{attrs:{type:"hidden",name:"fields"},domProps:{value:this.datesToJson()}})],1)},i=[],o=n("0dae"),r=n.n(o),l={name:"InterviewsAvailability",props:{availability:{type:String}},created:function(){var e=JSON.parse(this.availability),t=[];e.map((function(e,n){t.push({dates:new Date(e),bar:"orange"})})),this.av=t},data:function(){return{av:[]}},components:{"v-calendar":r.a},methods:{dayClick:function(e){if(e.attributes&&e.attributes.length>0){var t=function(t){var n=t.dates;n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n=n.toJSON().slice(0,10);var a=e.date;return a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a=a.toJSON().slice(0,10),n===a},n=this.av.findIndex(t);n>=0&&this.av.splice(n,1)}else{var a=e.year,i=e.month,o=e.day;this.av.push({dates:new Date(a,i-1,o),bar:"orange"})}},datesToJson:function(){var e=[];return this.av.map((function(t,n){var a=new Date(t.dates);a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),e.push({dates:a.toJSON().slice(0,10),bar:"orange"})})),JSON.stringify(e)}}},s=l,c=n("2877"),u=Object(c["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},b34c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-wysiwyg",{attrs:{label:"Text",name:e.fieldName("html"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:5e3,"in-store":"value"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},b62f:function(e,t,n){"use strict";var a=n("1322"),i=n.n(a);i.a},ba98:function(e,t,n){},be5f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-vselect",{attrs:{label:"Column setup",name:e.fieldName("column_setup"),options:[{value:1,label:"Left text, right image"},{value:2,label:"Left image, right text"}],placeholder:"Select column setup","has-default-store":!0,size:"large","in-store":"inputValue"}}),n("a17-textfield",{attrs:{label:"Small title",name:e.fieldName("small_title"),type:"text","in-store":"value"}}),n("a17-textfield",{attrs:{label:"Title",name:e.fieldName("title"),type:"text","in-store":"value"}}),n("a17-inputframe",{attrs:{label:"Image",name:"medias.cover"}},[n("a17-mediafield",{attrs:{name:e.fieldName("cover"),"crop-context":"cover"}})],1),e._v(" "),n("a17-wysiwyg",{attrs:{label:"Content",name:e.fieldName("content"),options:{modules:{toolbar:["bold","italic","underline","strike",{color:[]},{script:"super"},{script:"sub"},"link","clean"],syntax:!1}},maxlength:500,"in-store":"value"}}),n("a17-textfield",{attrs:{label:"Button text",name:e.fieldName("button_text"),type:"text","in-store":"value"}}),n("a17-inputframe",{attrs:{label:"Button url",name:"browsers.pages"}},[n("a17-browserfield",{attrs:{name:e.fieldName("pages"),"item-label":"button url",max:1,wide:!1,endpoint:"/admin/cms/pages/browser",endpoints:[],"modal-title":"Attach button url",draggable:!0}},[e._v("Add one button url")])],1)],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},c830:function(e,t,n){},cdb3:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-vselect",{attrs:{label:"Language",name:e.fieldName("language_name"),options:[{label:"Abkhazian",value:"ab"},{label:"Afar",value:"aa"},{label:"Afrikaans",value:"af"},{label:"Akan",value:"ak"},{label:"Albanian",value:"sq"},{label:"Amharic",value:"am"},{label:"Arabic",value:"ar"},{label:"Aragonese",value:"an"},{label:"Armenian",value:"hy"},{label:"Assamese",value:"as"},{label:"Avaric",value:"av"},{label:"Avestan",value:"ae"},{label:"Aymara",value:"ay"},{label:"Azerbaijani",value:"az"},{label:"Bambara",value:"bm"},{label:"Bashkir",value:"ba"},{label:"Basque",value:"eu"},{label:"Belarusian",value:"be"},{label:"Bengali",value:"bn"},{label:"Bihari languages",value:"bh"},{label:"Bislama",value:"bi"},{label:"Bosnian",value:"bs"},{label:"Breton",value:"br"},{label:"Bulgarian",value:"bg"},{label:"Burmese",value:"my"},{label:"Catalan, Valencian",value:"ca"},{label:"Central Khmer",value:"km"},{label:"Chamorro",value:"ch"},{label:"Chechen",value:"ce"},{label:"Chichewa, Chewa, Nyanja",value:"ny"},{label:"Chinese",value:"zh"},{label:"Church Slavonic, Old Bulgarian, Old Church Slavonic",value:"cu"},{label:"Chuvash",value:"cv"},{label:"Cornish",value:"kw"},{label:"Corsican",value:"co"},{label:"Cree",value:"cr"},{label:"Croatian",value:"hr"},{label:"Czech",value:"cs"},{label:"Danish",value:"da"},{label:"Divehi, Dhivehi, Maldivian",value:"dv"},{label:"Dutch, Flemish",value:"nl"},{label:"Dzongkha",value:"dz"},{label:"English",value:"en"},{label:"Esperanto",value:"eo"},{label:"Estonian",value:"et"},{label:"Ewe",value:"ee"},{label:"Faroese",value:"fo"},{label:"Fijian",value:"fj"},{label:"Finnish",value:"fi"},{label:"French",value:"fr"},{label:"Fulah",value:"ff"},{label:"Gaelic, Scottish Gaelic",value:"gd"},{label:"Galician",value:"gl"},{label:"Ganda",value:"lg"},{label:"Georgian",value:"ka"},{label:"German",value:"de"},{label:"Gikuyu, Kikuyu",value:"ki"},{label:"Greek (Modern)",value:"el"},{label:"Greenlandic, Kalaallisut",value:"kl"},{label:"Guarani",value:"gn"},{label:"Gujarati",value:"gu"},{label:"Haitian, Haitian Creole",value:"ht"},{label:"Hausa",value:"ha"},{label:"Hebrew",value:"he"},{label:"Herero",value:"hz"},{label:"Hindi",value:"hi"},{label:"Hiri Motu",value:"ho"},{label:"Hungarian",value:"hu"},{label:"Icelandic",value:"is"},{label:"Ido",value:"io"},{label:"Igbo",value:"ig"},{label:"Indonesian",value:"id"},{label:"Interlingua (International Auxiliary Language Association)",value:"ia"},{label:"Interlingue",value:"ie"},{label:"Inuktitut",value:"iu"},{label:"Inupiaq",value:"ik"},{label:"Irish",value:"ga"},{label:"Italian",value:"it"},{label:"Japanese",value:"ja"},{label:"Javanese",value:"jv"},{label:"Kannada",value:"kn"},{label:"Kanuri",value:"kr"},{label:"Kashmiri",value:"ks"},{label:"Kazakh",value:"kk"},{label:"Kinyarwanda",value:"rw"},{label:"Komi",value:"kv"},{label:"Kongo",value:"kg"},{label:"Korean",value:"ko"},{label:"Kwanyama, Kuanyama",value:"kj"},{label:"Kurdish",value:"ku"},{label:"Kyrgyz",value:"ky"},{label:"Lao",value:"lo"},{label:"Latin",value:"la"},{label:"Latvian",value:"lv"},{label:"Letzeburgesch, Luxembourgish",value:"lb"},{label:"Limburgish, Limburgan, Limburger",value:"li"},{label:"Lingala",value:"ln"},{label:"Lithuanian",value:"lt"},{label:"Luba-Katanga",value:"lu"},{label:"Macedonian",value:"mk"},{label:"Malagasy",value:"mg"},{label:"Malay",value:"ms"},{label:"Malayalam",value:"ml"},{label:"Maltese",value:"mt"},{label:"Manx",value:"gv"},{label:"Maori",value:"mi"},{label:"Marathi",value:"mr"},{label:"Marshallese",value:"mh"},{label:"Moldovan, Moldavian, Romanian",value:"ro"},{label:"Mongolian",value:"mn"},{label:"Nauru",value:"na"},{label:"Navajo, Navaho",value:"nv"},{label:"Northern Ndebele",value:"nd"},{label:"Ndonga",value:"ng"},{label:"Nepali",value:"ne"},{label:"Northern Sami",value:"se"},{label:"Norwegian",value:"no"},{label:"Norwegian BokmÃ¥l",value:"nb"},{label:"Norwegian Nynorsk",value:"nn"},{label:"Nuosu, Sichuan Yi",value:"ii"},{label:"Occitan (post 1500)",value:"oc"},{label:"Ojibwa",value:"oj"},{label:"Oriya",value:"or"},{label:"Oromo",value:"om"},{label:"Ossetian, Ossetic",value:"os"},{label:"Pali",value:"pi"},{label:"Panjabi, Punjabi",value:"pa"},{label:"Pashto, Pushto",value:"ps"},{label:"Persian",value:"fa"},{label:"Polish",value:"pl"},{label:"Portuguese",value:"pt"},{label:"Quechua",value:"qu"},{label:"Romansh",value:"rm"},{label:"Rundi",value:"rn"},{label:"Russian",value:"ru"},{label:"Samoan",value:"sm"},{label:"Sango",value:"sg"},{label:"Sanskrit",value:"sa"},{label:"Sardinian",value:"sc"},{label:"Serbian",value:"sr"},{label:"Shona",value:"sn"},{label:"Sindhi",value:"sd"},{label:"Sinhala, Sinhalese",value:"si"},{label:"Slovak",value:"sk"},{label:"Slovenian",value:"sl"},{label:"Somali",value:"so"},{label:"Sotho, Southern",value:"st"},{label:"South Ndebele",value:"nr"},{label:"Spanish, Castilian",value:"es"},{label:"Sundanese",value:"su"},{label:"Swahili",value:"sw"},{label:"Swati",value:"ss"},{label:"Swedish",value:"sv"},{label:"Tagalog",value:"tl"},{label:"Tahitian",value:"ty"},{label:"Tajik",value:"tg"},{label:"Tamil",value:"ta"},{label:"Tatar",value:"tt"},{label:"Telugu",value:"te"},{label:"Thai",value:"th"},{label:"Tibetan",value:"bo"},{label:"Tigrinya",value:"ti"},{label:"Tonga (Tonga Islands)",value:"to"},{label:"Tsonga",value:"ts"},{label:"Tswana",value:"tn"},{label:"Turkish",value:"tr"},{label:"Turkmen",value:"tk"},{label:"Twi",value:"tw"},{label:"Uighur, Uyghur",value:"ug"},{label:"Ukrainian",value:"uk"},{label:"Urdu",value:"ur"},{label:"Uzbek",value:"uz"},{label:"Venda",value:"ve"},{label:"Vietnamese",value:"vi"},{label:"Volap_k",value:"vo"},{label:"Walloon",value:"wa"},{label:"Welsh",value:"cy"},{label:"Western Frisian",value:"fy"},{label:"Wolof",value:"wo"},{label:"Xhosa",value:"xh"},{label:"Yiddish",value:"yi"},{label:"Yoruba",value:"yo"},{label:"Zhuang, Chuang",value:"za"},{label:"Zulu",value:"zu"}],"has-default-store":!0,searchable:!0,size:"large","in-store":"inputValue"}}),n("a17-vselect",{attrs:{label:"Level",name:e.fieldName("language_level"),options:[{value:"0",label:"Basic"},{value:"1",label:"Conversational"},{value:"2",label:"Fluent"}],"has-default-store":!0,size:"large","in-store":"inputValue"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},d43d:function(e,t,n){},d5be:function(e,t,n){"use strict";var a=n("fdff"),i=n.n(a);i.a},da0c:function(e,t,n){"use strict";var a=n("ac28"),i=n.n(a);i.a},e005:function(e,t,n){"use strict";var a=n("3a97"),i=n.n(a);i.a},e431:function(e,t,n){"use strict";var a=n("ba98"),i=n.n(a);i.a},e444:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-inputframe",{attrs:{label:"Image",name:"medias.cover"}},[n("a17-mediafield",{attrs:{name:e.fieldName("cover"),"crop-context":"cover"}})],1)],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},e689:function(e,t,n){},e718:function(e,t,n){},e8f1:function(e,t,n){"use strict";var a=n("25ba"),i=n.n(a);i.a},ecec:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block",class:e.blockClasses},[n("div",{staticClass:"block__header",on:{dblclick:function(t){return t.preventDefault(),e.toggleExpand()}}},[n("span",{staticClass:"block__handle"}),n("div",{staticClass:"block__toggle"},[e.withMoveDropdown?n("a17-dropdown",{ref:e.moveDropdown,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[n("span",{staticClass:"block__counter f--tiny",on:{click:function(t){return e.$refs[e.moveDropdown].toggle()}}},[e._v(e._s(e.index+1))]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e._t("dropdown-numbers")],2)]):n("span",{staticClass:"block__counter f--tiny"},[e._v(e._s(e.index+1))]),n("span",{staticClass:"block__title"},[e._v(e._s(e.block.title))])],1),n("div",{staticClass:"block__actions"},[e._t("block-actions"),e.withAddDropdown?n("a17-dropdown",{ref:e.addDropdown,attrs:{position:"bottom-right"},on:{open:function(t){e.hover=!0},close:function(t){e.hover=!1}}},[n("a17-button",{attrs:{variant:"icon","data-action":""},on:{click:function(t){return e.$refs[e.addDropdown].toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e._t("dropdown-add")],2)],1):e._e(),n("a17-button",{attrs:{variant:"icon","data-action":"","aria-expanded":e.visible?"true":"false"},on:{click:function(t){return e.toggleExpand()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"expand"}})]),n("a17-dropdown",{ref:e.actionsDropdown,attrs:{position:"bottom-right"},on:{open:function(t){e.hover=!0},close:function(t){e.hover=!1}}},[n("a17-button",{attrs:{variant:"icon"},on:{click:function(t){return e.$refs[e.actionsDropdown].toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e._t("dropdown-action")],2)],1)],2)]),n("div",{staticClass:"block__content",attrs:{"aria-hidden":!e.visible||null}},[n(""+e.block.type,e._b({key:"`form_${block.type}_${block.id}`",tag:"component",attrs:{name:e.componentName(e.block.id)}},"component",e.block.attributes,!1)),n("a17-inputframe",{attrs:{size:"small",label:"",name:"block."+e.block.id}})],1)])},i=[],o=n("4e53"),r={name:"A17Block",props:{index:{type:Number,default:0},opened:{type:Boolean,default:!0},closed:{type:Boolean,default:!1},size:{type:String,default:""},block:{type:Object,default:function(){return{}}}},data:function(){return{visible:!0,hover:!1,withMoveDropdown:!0,withAddDropdown:!0}},filters:o["a"],computed:{blockClasses:function(){return[this.visible?"block--open":"",this.hover?"block--focus":"",this.size?"block--".concat(this.size):""]},moveDropdown:function(){return"moveBlock".concat(this.index,"Dropdown")},actionsDropdown:function(){return"action".concat(this.block.id,"Dropdown")},addDropdown:function(){return"add".concat(this.block.id,"Dropdown")}},watch:{opened:function(){this.opened||(this.visible=!1)},closed:function(){this.closed||(this.visible=!0)}},methods:{toggleExpand:function(){this.visible=!this.visible,this.$emit("expand",this.visible)},componentName:function(e){return"blocks["+e+"]"}},beforeMount:function(){this.$slots["dropdown-numbers"]||(this.withMoveDropdown=!1),this.$slots["dropdown-add"]||(this.withAddDropdown=!1)}},l=r,s=(n("2d34"),n("3fee"),n("2877")),c=Object(s["a"])(l,a,i,!1,null,"751399b0",null);t["default"]=c.exports},ee22:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block__body"},[n("a17-textfield",{attrs:{label:"Name",name:e.fieldName("name"),type:"text","in-store":"value"}}),n("a17-datepicker",{attrs:{label:"DOB",name:e.fieldName("dob"),"place-holder":"DOB","in-store":"date"}})],1)},i=[],o=n("f0f8"),r={mixins:[o["a"]]},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports},f3e7:function(e,t,n){},f618:function(e,t,n){"use strict";n.r(t);var a=n("a026"),i=n("2f62"),o=n("1539"),r=n("0429"),l=n("f1af"),s=n("f99e"),c=n("b171"),u=(n("878a"),n("16f9")),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stickyNav"},[n("div",{staticClass:"container"},[n("div",{staticClass:"stickyNav__nav"},[e.navItems.length>1?n("div",{staticClass:"stickyNav__links"},e._l(e.navItems,(function(t,a){return n("a",{key:t.fieldset,class:{"s--on":t.active},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.scrollToFieldset(a)}}},[e._v(e._s(t.label))])})),0):e._e(),e._t("title")],2),n("div",{staticClass:"stickyNav__actions"},[e._t("actions")],2)])])},p=[],f=n("b047"),b=n.n(f),v=n("2c83"),m={name:"A17StickyNav",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{lastScrollPos:0,topOffset:70,ticking:!1,navItems:this.items,clickedFieldset:-1,fieldset:[]}},methods:{getFieldsetPosition:function(){var e=this;this.lastScrollPos=window.pageYOffset,this.navItems.forEach((function(t,n){var i=e.fieldset[n],o=i?i.getBoundingClientRect().top+e.lastScrollPos:0;a["a"].set(t,"position",o)}))},setActiveItems:function(){var e=this,t=0;this.navItems.forEach((function(n,i){var o=n.position-e.topOffset<e.lastScrollPos;a["a"].set(n,"active",!1),o&&i>0&&(t=i)})),this.clickedFieldset>=0?a["a"].set(e.navItems[e.clickedFieldset],"active",!0):a["a"].set(e.navItems[t],"active",!0)},refresh:function(){var e=this;e.clickedFieldset=-1,this.getFieldsetPosition(),this.setActiveItems(),e.ticking=!1},_resize:b()((function(){this.lastScrollPos=window.pageYOffset,this.refresh()}),200),_scroll:function(){var e=this;this.lastScrollPos=window.pageYOffset,e.ticking||window.requestAnimationFrame((function(){e.refresh(),e.ticking=!1})),e.ticking=!0},scrollToFieldset:function(e){var t=this,n=this.navItems[e].position-this.topOffset+1;this.dispose(),this.clickedFieldset=e,this.getFieldsetPosition(),this.setActiveItems(),Object(v["a"])({offset:n,easing:"easeOut",onComplete:function(){t.init()}})},init:function(){window.addEventListener("scroll",this._scroll),window.addEventListener("resize",this._resize)},dispose:function(){window.removeEventListener("scroll",this._scroll),window.removeEventListener("resize",this._resize)}},mounted:function(){var e=this;this.navItems.forEach((function(t,n){var a=document.querySelector("#"+t.fieldset);a?e.fieldset.push(a):e.fieldset.push(null)})),this.refresh(),this.init()},beforeDestroy:function(){this.dispose()}},h=m,g=(n("7ebf"),n("2877")),_=Object(g["a"])(h,d,p,!1,null,"1a811cfe",null),y=_.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"titleEditor",class:e.titleEditorClasses},[n("div",{staticClass:"titleEditor__preview"},[n("h2",{staticClass:"titleEditor__title",class:{"titleEditor__title-only":!e.permalink}},[e.editableTitle?n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$refs.editModal.open()}}},[n("span",{staticClass:"f--underlined--o"},[e._v(e._s(e.title))]),e._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})]):n("span",[e._v(e._s(e.customTitle?e.customTitle:e.title))])]),!e.permalink&&!e.customPermalink||e.showModal?e._e():n("a",{staticClass:"titleEditor__permalink f--small",attrs:{href:e.fullUrl,target:"_blank"}},[n("span",{staticClass:"f--note f--external f--underlined--o"},[e._v(e._s(e._f("prettierUrl")(e.visibleUrl)))])]),e.showModal?n("span",{staticClass:"titleEditor__permalink f--small f--note f--external f--underlined--o"},[e._v(e._s(e._f("prettierUrl")(e.visibleUrl)))]):e._e(),n("a17-modal",{ref:"editModal",staticClass:"modal--form",attrs:{title:e.modalTitle,forceLock:e.disabled}},[n("a17-langmanager"),n("form",{ref:"modalForm",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.update(t)}}},[e._t("modal-form"),n("a17-modal-validation",{attrs:{mode:e.mode},on:{disable:e.lockModal}})],2)],1)],1),e._t("default")],2)},O=[],k=n("4e53"),P=n("3b37"),E=n("6d94"),C=n("f03e"),x=n("7d9f");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={name:"A17TitleEditor",mixins:[C["a"],x["a"]],components:{"a17-modal-validation":E["a"],"a17-langmanager":P["a"]},props:{modalTitle:{type:String,default:function(){return this.$trans("modal.update.title")}},warningMessage:{type:String,default:"Missing title"},showModal:{type:Boolean,default:!1},name:{default:"title"},editableTitle:{type:Boolean,default:!0},customTitle:{type:String,default:""},customPermalink:{type:String,default:""}},data:function(){return{disabled:!1}},mounted:function(){this.showModal&&this.$refs.editModal.open()},computed:j(j({titleEditorClasses:function(){return{"titleEditor--error":this.error||this.title===this.warningMessage}},mode:function(){return this.showModal?"done":this.title.length>0?"update":"create"},fullUrl:function(){return this.customPermalink||this.baseUrl.replace("{language}",this.currentLocale.value).replace("{preview}/",this.published?"":"admin-preview/")+this.permalink},visibleUrl:function(){return this.customPermalink||this.baseUrl.replace("{language}",this.currentLocale.value).replace("{preview}/","")+this.permalink},title:function(){var e=this.fieldValueByName(this.name)?this.fieldValueByName(this.name):"",t="string"===typeof e?e:e[this.currentLocale.value];return t||this.warningMessage},permalink:function(){return this.fieldValueByName("slug")[this.currentLocale.value]}},Object(i["c"])({baseUrl:function(e){return e.form.baseUrl},currentLocale:function(e){return e.language.active},languages:function(e){return e.language.all},fields:function(e){return e.form.fields},published:function(e){return e.publication.published}})),Object(i["b"])(["fieldValueByName"])),filters:k["a"],methods:{update:function(){this.$refs.editModal.hide()},lockModal:function(e){this.disabled=e}}},B=T,L=(n("33d8"),Object(g["a"])(B,w,O,!1,null,"4e050f8e",null)),$=L.exports,A=n("4168"),I=n("75fb"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"publisher__wrapper"},[e.withPublicationToggle?n("a17-switcher",{attrs:{title:e.$trans("publisher.switcher-title","Status"),name:"publish_state",textEnabled:e.textEnabled,textDisabled:e.textDisabled}}):e._e(),e._t("default"),e.reviewProcess&&e.reviewProcess.length?n("a17-reviewaccordion",{attrs:{options:e.reviewProcess,name:"review_process",value:e.reviewProcessCompleteValues,open:e.openStates["A17Reviewaccordion"]},on:{open:e.openCloseAccordion}},[e._v(e._s(e.$trans("publisher.review-status")))]):e._e(),e.visibility&&e.visibilityOptions&&e.visibilityOptions.length?n("a17-radioaccordion",{attrs:{radios:e.visibilityOptions,name:"visibility",value:e.visibility,open:e.openStates["A17Radioaccordion"]},on:{open:e.openCloseAccordion,change:e.updateVisibility}},[e._v(e._s(e.$trans("publisher.visibility")))]):e._e(),e.languages&&e.showLanguages&&e.languages.length>1?n("a17-checkboxaccordion",{attrs:{options:e.languages,name:"active_languages",value:e.publishedLanguagesValues,open:e.openStates["A17Checkboxaccordion"]},on:{open:e.openCloseAccordion}},[e._v(e._s(e.$trans("publisher.languages")))]):e._e(),e.withPublicationTimeframe?n("a17-pubaccordion",{attrs:{"date-display-format":e.dateDisplayFormat,"date-format":e.dateFormat,date_24h:e.date_24h,open:e.openStates["A17Pubaccordion"]},on:{open:e.openCloseAccordion}},[e._v(e._s(e.$trans("publisher.published-on")))]):e._e(),e.revisions.length?n("a17-revaccordion",{attrs:{open:e.openStates["A17Revisions"],revisions:e.revisions},on:{open:e.openCloseAccordion}},[e._v(e._s(e.$trans("publisher.revisions")))]):e._e(),e.parents.length?n("a17-parentaccordion",{attrs:{open:e.openStates["A17Parents"],parents:e.parents,value:e.parentId},on:{open:e.openCloseAccordion}},[e._v(e._s(e.$trans("publisher.parent-page")))]):e._e(),e.revisions.length?n("div",{staticClass:"publisher__item"},[n("a",{staticClass:"publisher__link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openPreview(t)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"preview"}}),n("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.$trans("publisher.preview")))])])]):e._e(),n("div",{staticClass:"publisher__item publisher__item--btns"},[n("a17-multibutton",{attrs:{options:e.submitOptions,type:"submit",message:e.submitDisableMessage},on:{"button-clicked":e.buttonClicked}})],1)],2)},R=[],M=n("2569"),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"switcher",class:e.switcherClasses},[n("h4",{staticClass:"switcher__title"},[e._v(e._s(e.title))]),n("label",{staticClass:"switcher__button",attrs:{for:e.name+"_live"}},[e.isChecked?n("span",{staticClass:"switcher__label"},[e._v(e._s(e.formatTextEnabled))]):e._e(),e.isChecked?e._e():n("span",{staticClass:"switcher__label"},[e._v(e._s(e.formatTextDisabled))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"checkbox",disabled:e.disabled,name:e.name,id:e.name+"_live",value:"live"},domProps:{checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,"live")>-1:e.checkedValue},on:{change:function(t){var n=e.checkedValue,a=t.target,i=!!a.checked;if(Array.isArray(n)){var o="live",r=e._i(n,o);a.checked?r<0&&(e.checkedValue=n.concat([o])):r>-1&&(e.checkedValue=n.slice(0,r).concat(n.slice(r+1)))}else e.checkedValue=i}}}),n("span",{staticClass:"switcher__switcher"})])])},z=[],U=n("0d3e"),F=n.n(U);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={name:"A17Toggle",props:{name:{type:String,default:""},title:{default:"Status"},disabled:{type:Boolean,default:!1},textEnabled:{type:String,default:"Live"},textDisabled:{type:String,default:"Draft"},textExpired:{type:String,default:"Expired"},textScheduled:{type:String,default:"Scheduled"}},filters:k["a"],computed:K({switcherClasses:function(){return[this.isChecked?"switcher--active":"",this.formatTextEnabled?"switcher--".concat(this.$options.filters.lowercase(this.formatTextEnabled)):""]},isChecked:function(){return this.published},formatTextEnabled:function(){var e=F()(this.startDate,new Date),t=F()(this.endDate,new Date);return this.endDate&&t<0?this.textExpired:this.startDate&&e>0?this.textScheduled:this.textEnabled},formatTextDisabled:function(){return this.textDisabled},checkedValue:{get:function(){return this.published},set:function(e){this.$store.commit(r["m"].UPDATE_PUBLISH_STATE,e),this.$emit("change",e)}}},Object(i["c"])({startDate:function(e){return e.publication.startDate},endDate:function(e){return e.publication.endDate},published:function(e){return e.publication.published}}))},q=G,Y=(n("9922"),Object(g["a"])(q,V,z,!1,null,"2e81738b",null)),J=Y.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-accordion",{attrs:{open:e.open},on:{toggleVisibility:e.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[e._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[e._v(e._s(e.currentLabel))]),n("a17-radiogroup",{attrs:{name:e.name,radios:e.radios,initialValue:e.currentValue},on:{change:e.changeValue}})],1)},Q=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"accordion",class:e.visibilityClasses},[n("button",{staticClass:"accordion__trigger",attrs:{type:"button","aria-expanded":e.visible?"true":"false"},on:{click:e.onClickVisibility}},[e._t("accordion__title"),n("span",{staticClass:"accordion__value"},[e._t("accordion__value")],2),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})],2),n("transition",{attrs:{css:!1,duration:275},on:{"before-enter":e.beforeEnter,"before-leave":e.beforeLeave,enter:e.enter,leave:e.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"accordion__dropdown",attrs:{"aria-hidden":!e.visible}},[n("div",{staticClass:"accordion__list"},[e._t("default")],2)])])],1)},ee=[],te=n("5a57"),ne={name:"A17Accordion",mixins:[te["a"]],watch:{open:function(){this.visible!==this.open&&(this.visible=this.open)}},methods:{getMaxHeight:function(){return Math.min(250,this.$el.querySelector(".accordion__list").clientHeight+1)},beforeEnter:function(e){e.style.maxHeight="0px"},enter:function(e,t){e.style.maxHeight=this.getMaxHeight()+"px"},beforeLeave:function(e,t){e.style.maxHeight=this.getMaxHeight()+"px"},leave:function(e,t){e.style.maxHeight="0px"}}},ae=ne,ie=(n("e005"),n("62c8"),Object(g["a"])(ae,X,ee,!1,null,"0dd10376",null)),oe=ie.exports,re={name:"A17Radioaccordion",components:{"a17-accordion":oe},mixins:[te["a"]],props:{value:{default:""},title:{default:""},name:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.value}},computed:{currentLabel:function(){var e=this.radios.filter(this.isSameValue);return e.length?e[0].label:""}},methods:{isSameValue:function(e){return e.value===this.currentValue},changeValue:function(e){this.currentValue=e,this.$emit("change",e)},notifyOpen:function(e){this.$emit("open",e,this.$options.name)}}},le=re,se=Object(g["a"])(le,Z,Q,!1,null,null,null),ce=se.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-accordion",{attrs:{open:e.open},on:{toggleVisibility:e.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[e._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[e._v(e._s(e.currentLabel))]),n("a17-checkboxgroup",{attrs:{name:e.name,options:e.currentOptions,selected:e.currentValue},on:{change:e.changeValue}})],1)},de=[],pe={name:"A17Reviewaccordion",components:{"a17-accordion":oe},mixins:[te["a"]],props:{value:{default:function(){return[]}},title:{type:String,default:""},name:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{currentOptions:this.options,currentValue:this.value}},computed:{currentLabel:function(){var e="Pending approval",t=this.currentValue[this.currentValue.length-1];return this.currentValue.length&&this.options.forEach((function(n){n.value===t&&(e=n.display)})),e}},methods:{changeValue:function(e){this.currentValue=e,this.$store.commit(r["m"].UPDATE_REVIEW_PROCESS,e)},notifyOpen:function(e){this.$emit("open",e,this.$options.name)}}},fe=pe,be=Object(g["a"])(fe,ue,de,!1,null,null,null),ve=be.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-accordion",{attrs:{open:e.open},on:{toggleVisibility:e.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[e._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[e._v(e._s(e.currentLabel))]),n("a17-checkboxgroup",{attrs:{name:e.name,options:e.options,selected:e.currentValue,min:1},on:{change:e.changeValue}})],1)},he=[],ge={name:"A17Checkboxaccordion",components:{"a17-accordion":oe},mixins:[te["a"]],props:{value:{default:function(){return[]}},title:{type:String,default:""},name:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{currentValue:this.value}},watch:{value:function(e){this.currentValue=e}},computed:{currentLabel:function(){return this.currentValue.length+" "+this.$trans("publisher.languages-published")}},methods:{changeValue:function(e){this.currentValue=e,this.$store.commit(r["g"].PUBLISH_LANG,e)},notifyOpen:function(e){this.$emit("open",e,this.$options.name)}}},_e=ge,ye=Object(g["a"])(_e,me,he,!1,null,null,null),we=ye.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-accordion",{attrs:{open:e.open},on:{toggleVisibility:e.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[e._t("default"),e._v(" "),n("span",{staticClass:"f--small f--note"},[e._v("("+e._s(e.revisions.length)+")")])],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[e._v(e._s(e.$trans("publisher.last-edit"))+" "),n("timeago",{attrs:{"auto-update":1,datetime:new Date(e.revisions[0].datetime)}})],1),n("div",{staticClass:"revaccordion__scroller"},[n("ul",{staticClass:"revaccordion__list"},e._l(e.revisions,(function(t,a){return n("li",{key:t.id,staticClass:"revaccordion__item"},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.openPreview(t.id)}}},[n("span",{staticClass:"revaccordion__author"},[e._v(e._s(t.author))]),n("span",{staticClass:"revaccordion__datetime"},[0===a?n("span",{staticClass:"tag"},[e._v(e._s(e.$trans("publisher.current")))]):e._e(),e._v(" "+e._s(e._f("formatDate")(t.datetime)))])])])})),0)])])},ke=[],Pe={name:"A17Revisions",components:{"a17-accordion":oe},mixins:[te["a"]],props:{revisions:{default:function(){return[]}}},filters:k["a"],methods:{notifyOpen:function(e){this.$emit("open",e,this.$options.name)},openPreview:function(e){this.$root.$refs.preview&&this.$root.$refs.preview.open(parseInt(e))}}},Ee=Pe,Ce=(n("6b9b"),Object(g["a"])(Ee,Oe,ke,!1,null,"042fcdcb",null)),xe=Ce.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-accordion",{attrs:{open:e.open},on:{toggleVisibility:e.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[e._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[e.startDate?[e._v(" "+e._s(e._f("formatDateWithFormat")(e.startDate,e.dateDisplayFormat))+" ")]:[e._v(" "+e._s(e.defaultStartDate)+" ")]],2),n("div",{staticClass:"accordion__fields"},[n("a17-datepicker",{attrs:{name:"publish_date","place-holder":e.$trans("publisher.start-date"),time_24hr:e.date_24h,altFormat:e.dateFormat,initialValue:e.startDate,maxDate:e.endDate,enableTime:!0,allowInput:!0,staticMode:!0,clear:!0},on:{open:e.openStartCalendar,close:e.closeCalendar,input:e.updateStartDate}}),n("a17-datepicker",{attrs:{name:"end_date","place-holder":e.$trans("publisher.end-date"),time_24hr:e.date_24h,altFormat:e.dateFormat,initialValue:e.endDate,minDate:e.startDate,enableTime:!0,allowInput:!0,staticMode:!0,clear:!0},on:{open:e.openEndCalendar,close:e.closeCalendar,input:e.updateEndDate}})],1)])},je=[];function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={name:"A17Pubaccordion",components:{"a17-accordion":oe},mixins:[te["a"]],props:{defaultStartDate:{type:String,default:function(){return this.$trans("publisher.immediate")}},defaultEndDate:{type:String,default:""},dateDisplayFormat:{type:String,default:"MMM, DD, YYYY, "+Object(M["b"])()},dateFormat:{type:String,default:null},date_24h:{type:Boolean,default:Object(M["c"])()}},filters:k["a"],computed:Te({},Object(i["c"])({startDate:function(e){return e.publication.startDate},endDate:function(e){return e.publication.endDate}})),methods:{updateStartDate:function(e){this.$store.commit(r["m"].UPDATE_PUBLISH_START_DATE,e)},updateEndDate:function(e){this.$store.commit(r["m"].UPDATE_PUBLISH_END_DATE,e)},notifyOpen:function(e){this.$emit("open",e,this.$options.name)},openCalendar:function(){setTimeout((function(){var e=document.querySelectorAll(".accordion.s--open, .accordion.s--open .accordion__dropdown");e.forEach((function(e){e.style.overflow="visible"}))}),10)},openStartCalendar:function(){this.openCalendar()},openEndCalendar:function(){this.openCalendar()},closeCalendar:function(){var e=document.querySelectorAll(".accordion.s--open, .accordion.s--open .accordion__dropdown");e.forEach((function(e){e.style.overflow=""}))}}},$e=Le,Ae=Object(g["a"])($e,Se,je,!1,null,null,null),Ie=Ae.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-accordion",{attrs:{open:e.open},on:{toggleVisibility:e.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[e._t("default")],2),n("div",{attrs:{slot:"accordion__value"},domProps:{innerHTML:e._s(e.currentLabel)},slot:"accordion__value"}),n("div",{staticClass:"accordion__fields"},[n("a17-select",{attrs:{name:"parent_id",options:e.options,selected:e.currentValue,size:"small"},on:{change:e.updateSelected}})],1)])},Re=[],Me=function(e,t){var n=[];function a(e){return Array(e+1).join(t)+" "}function i(e,t){e.forEach((function(e){var o={};if(o.value=e.id,e.edit&&(o.edit=e.edit),o.label=a(t)+e.name,n.push(o),e.children&&e.children.length){var r=t+1;i(e.children,r)}}))}return i(e,0),n};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe={name:"A17Parents",components:{"a17-accordion":oe},mixins:[te["a"]],props:{value:{default:0},parents:{default:function(){return[]}}},computed:ze({currentLabel:function(){var e=this.options.filter(this.isSameValue);return e.length?e[0].label:""},options:function(){var e=Me(this.parents,"&nbsp;&nbsp;&nbsp;"),t={value:0,label:"(No parent)"};return e.unshift(t),e}},Object(i["c"])({currentValue:function(e){return e.parents.active}})),methods:{isSameValue:function(e){return e.value===this.currentValue},updateSelected:function(e){this.$store.commit(r["k"].UPDATE_PARENT,e)},notifyOpen:function(e){this.$emit("open",e,this.$options.name)}}},We=Fe,Ke=(n("2774"),Object(g["a"])(We,Ne,Re,!1,null,"5a88e420",null)),He=Ke.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multibutton"},[n("a17-dropdown",{ref:"submitDown",attrs:{position:"bottom-right",width:"full",offset:0}},[e.isDisabled(e.options[0])?n("a17-button",{attrs:{type:"button",variant:"validate",disabled:!0}},[e._v(e._s(e.options[0].text))]):n("a17-button",{attrs:{type:e.type,name:e.options[0].name,variant:"validate"},on:{click:function(t){return e.buttonClicked(e.options[0].name)}}},[e._v(e._s(e.options[0].text))]),e.hasValidOptions?n("button",{staticClass:"multibutton__trigger",attrs:{type:"button"},on:{click:function(t){return e.$refs.submitDown.toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):e._e(),e.otherOptions.length?n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[n("ul",e._l(e.otherOptions,(function(t){return n("li",{key:t.name},[e.isDisabled(t)?n("button",{attrs:{type:"button",disabled:""}},[e._v(e._s(t.text))]):n("button",{attrs:{type:e.type,name:t.name},on:{click:function(n){return e.buttonClicked(t.name)}}},[e._v(e._s(t.text))])])})),0)]):e._e()],1)],1)},qe=[],Ye={name:"A17Multibutton",props:{type:{default:"button"},message:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{}},computed:{otherOptions:function(){return this.options.length?this.options.slice(1):[]},hasValidOptions:function(){var e=this.options.filter((function(e){return!e.hasOwnProperty("disabled")||!1===e.disabled})),t=Boolean(e.length>0);return!t&&this.message&&this.$store.commit(r["j"].SET_NOTIF,{message:this.message,variant:"success"}),t}},methods:{isDisabled:function(e){return!!e.hasOwnProperty("disabled")&&!0===e.disabled},buttonClicked:function(e){this.$emit("button-clicked",e)}}},Je=Ye,Ze=(n("b0c8"),Object(g["a"])(Je,Ge,qe,!1,null,"40868c5c",null)),Qe=Ze.exports;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt={name:"A17Publisher",components:{"a17-switcher":J,"a17-radioaccordion":ce,"a17-checkboxaccordion":we,"a17-reviewaccordion":ve,"a17-revaccordion":xe,"a17-parentaccordion":He,"a17-pubaccordion":Ie,"a17-multibutton":Qe},props:{showLanguages:{type:Boolean,default:!0},dateFormat:{type:String,default:null},dateDisplayFormat:{type:String,default:"MMM, DD, YYYY, "+Object(M["b"])()},date_24h:{type:Boolean,default:Object(M["c"])()}},data:function(){return{singleOpen:!0,openStates:{A17Reviewaccordion:!1,A17Radioaccordion:!1,A17Checkboxaccordion:!1,A17Revisions:!1,A17Pubaccordion:!1,A17Parents:!1}}},filters:k["a"],computed:et(et({reviewProcessCompleteValues:function(){var e=[];return this.reviewProcessComplete.length&&this.reviewProcessComplete.forEach((function(t){e.push(t.value)})),e},submitOptions:function(){return this.$store.getters.getSubmitOptions},publishedLanguagesValues:function(){var e=[];return this.publishedLanguages.length&&this.publishedLanguages.forEach((function(t){e.push(t.value)})),e}},Object(i["c"])({languages:function(e){return e.language.all},revisions:function(e){return e.revision.all},parentId:function(e){return e.parents.active},parents:function(e){return e.parents.all},published:function(e){return e.publication.published},publishSubmit:function(e){return e.publication.publishSubmit},textEnabled:function(e){return e.publication.publishedLabel},textDisabled:function(e){return e.publication.draftLabel},withPublicationToggle:function(e){return e.publication.withPublicationToggle},withPublicationTimeframe:function(e){return e.publication.withPublicationTimeframe},visibility:function(e){return e.publication.visibility},visibilityOptions:function(e){return e.publication.visibilityOptions},reviewProcess:function(e){return e.publication.reviewProcess},submitDisableMessage:function(e){return e.publication.submitDisableMessage}})),Object(i["b"])(["publishedLanguages","reviewProcessComplete"])),methods:{buttonClicked:function(e){this.$store.commit(r["m"].UPDATE_SAVE_TYPE,e)},openCloseAccordion:function(e,t){if(this.singleOpen)if(e)for(var n in this.openStates)this.openStates[n]=n===t;else this.openStates[t]=!1},openPreview:function(){this.$root.$refs.preview&&this.$root.$refs.preview.open(0)},updateVisibility:function(e){this.$store.commit(r["m"].UPDATE_PUBLISH_VISIBILITY,e)},openMoveToTrashModal:function(){this.$parent.$refs.moveToTrashModal.open()}}},at=nt,it=(n("e8f1"),Object(g["a"])(at,N,R,!1,null,"6d7750c6",null)),ot=it.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.parents.length||e.hasUrl?n("div",{staticClass:"pagenav"},[e.parents.length?n("div",{staticClass:"pagenav__form"},[n("a17-vselect",{attrs:{name:"parents_sources",placeholder:e.placeholder,size:"large",searchable:!0,options:e.options},on:{change:e.gotoUrl}})],1):e._e(),e.hasUrl?n("nav",{staticClass:"pagenav__nav"},[e.previousUrl?n("a",{staticClass:"pagenav__btn",attrs:{href:e.previousUrl}},[e._v("â "+e._s(e.previousLabel))]):n("span",{staticClass:"pagenav__btn"},[e._v("â "+e._s(e.previousLabel))]),e.nextUrl?n("a",{staticClass:"pagenav__btn",attrs:{href:e.nextUrl}},[e._v(e._s(e.nextLabel)+" â")]):n("span",{staticClass:"pagenav__btn"},[e._v(e._s(e.nextLabel)+" â")])]):e._e()]):e._e()},lt=[];function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt={name:"A17PageNav",props:{previousLabel:{type:String,default:"Previous page"},nextLabel:{type:String,default:"Next page"},previousUrl:{type:String,default:""},nextUrl:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{}},computed:ct({hasUrl:function(){return this.previousUrl||this.nextUrl},options:function(){return Me(this.parents,"â")}},Object(i["c"])({parents:function(e){return e.parents.all}})),methods:{gotoUrl:function(e){e.edit&&(window.location.href=e.edit)}},beforeMount:function(){}},pt=dt,ft=(n("ffdb"),Object(g["a"])(pt,rt,lt,!1,null,"761dbeaa",null)),bt=ft.exports,vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("draggable",{staticClass:"content__container",attrs:{options:e.dragOptions},model:{value:e.blocks,callback:function(t){e.blocks=t},expression:"blocks"}},[n("transition-group",{attrs:{name:"draggable_list",tag:"div"}},e._l(e.blocks,(function(t,a){return n("div",{key:t.id,staticClass:"content__item"},[n("a17-block",{ref:"blockList",refInFor:!0,attrs:{block:t,index:a,opened:e.opened,closed:e.closed},on:{expand:e.setOpened}},[e._l(e.availableBlocks,(function(t){return[e.availableBlocks.length?n("button",{key:t.component,attrs:{slot:"dropdown-add",type:"button"},on:{click:function(n){return e.addBlock(t,a+1)}},slot:"dropdown-add"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:t.icon}}),e._v(" "+e._s(t.title))]):e._e()]})),n("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[e.opened?n("button",{attrs:{type:"button"},on:{click:function(t){return e.collapseAllBlocks()}}},[e._v(e._s(e.$trans("fields.block-editor.collapse-all","Collapse all")))]):n("button",{attrs:{type:"button"},on:{click:function(t){return e.expandAllBlocks()}}},[e._v(e._s(e.$trans("fields.block-editor.expand-all","Expand all")))]),e.editor?n("button",{attrs:{type:"button"},on:{click:function(t){return e.openEditor(a)}}},[e._v(e._s(e.$trans("fields.block-editor.open-in-editor","Open in editor")))]):e._e(),n("button",{attrs:{type:"button"},on:{click:function(t){return e.duplicateBlock(a)}}},[e._v(e._s(e.$trans("fields.block-editor.create-another","Create another")))]),n("button",{attrs:{type:"button"},on:{click:function(t){return e.deleteBlock(a)}}},[e._v(e._s(e.$trans("fields.block-editor.delete","Delete")))])]),e._l(e.blocks.length,(function(t){return n("button",{key:t,attrs:{slot:"dropdown-numbers",type:"button"},on:{click:function(n){return e.moveBlock(a,t-1)}},slot:"dropdown-numbers"},[e._v(e._s(t))])}))],2)],1)})),0)],1),n("div",{staticClass:"content__actions"},[e.availableBlocks.length?n("a17-dropdown",{ref:"blocksDropdown",attrs:{position:"top-center",arrow:!0,offset:10,maxHeight:430}},[n("a17-button",{attrs:{size:"small",variant:"action"},on:{click:function(t){return e.$refs.blocksDropdown.toggle()}}},[e._v(e._s(e.title))]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},e._l(e.availableBlocks,(function(t){return n("button",{key:t.component,attrs:{type:"button"},on:{click:function(n){return e.addBlock(t,-1)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"content__icon",attrs:{symbol:t.icon}}),e._v(e._s(t.title))])})),0)],1):e._e(),n("div",{staticClass:"content__secondaryActions"},[e.editor?n("a",{staticClass:"f--link f--link-underlined--o",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openEditor(-1)}}},[e._v(e._s(e.$trans("fields.block-editor.open-in-editor","Open in editor")))]):e._e()])],1)],1)},mt=[],ht=n("1980"),gt=n.n(ht),_t=n("5420"),yt=n("159c"),wt=n("ecec");function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et={name:"A17Content",components:{"a17-block":wt["default"],draggable:gt.a},mixins:[_t["a"],yt["a"]],props:{title:{type:String,default:""}},data:function(){return{opened:!0,closed:!1,handle:".block__handle"}},computed:kt({blocks:{get:function(){return this.savedBlocks},set:function(e){this.$store.commit(r["d"].REORDER_BLOCKS,e)}}},Object(i["c"])({editor:function(e){return e.content.editor},savedBlocks:function(e){return e.content.blocks},availableBlocks:function(e){return e.content.available}})),methods:{setOpened:function(e){var t=this.$refs.blockList.every((function(e){return!e.visible}));t&&(this.opened=!1,this.closed=!0),e&&(this.opened=!0)},addDropdownId:function(e){return"addBlock".concat(e,"Dropdown")},toggleDropdown:function(e){var t=this.addDropdownId(e),n=this.$refs[t][0];n&&n.toggle()},moveBlock:function(e,t){e!==t&&this.$store.commit(r["d"].MOVE_BLOCK,{oldIndex:e,newIndex:t})},addBlock:function(e,t){this.opened=!0;var n={title:e.title,type:e.component,icon:e.icon,attributes:e.attributes};this.$store.commit(r["d"].ADD_BLOCK,{block:n,index:t})},duplicateBlock:function(e){this.opened=!0,this.$store.commit(r["d"].DUPLICATE_BLOCK,e)},deleteBlock:function(e){var t=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){t.$store.commit(r["d"].DELETE_BLOCK,e)})):this.$store.commit(r["d"].DELETE_BLOCK,e)},collapseAllBlocks:function(){this.opened=!1,this.closed=!0},expandAllBlocks:function(){this.opened=!0,this.closed=!1}},mounted:function(){var e=this;this.$nextTick((function(){e.savedBlocks.length>3&&e.collapseAllBlocks()}))}},Ct=Et,xt=(n("b62f"),Object(g["a"])(Ct,vt,mt,!1,null,"4165f148",null)),St=xt.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("draggable",{staticClass:"content__content",attrs:{options:e.dragOptions},model:{value:e.blocks,callback:function(t){e.blocks=t},expression:"blocks"}},[n("transition-group",{attrs:{name:"draggable_list",tag:"div"}},e._l(e.blocks,(function(t,a){return n("div",{key:t.id,staticClass:"content__item"},[n("a17-block",{attrs:{block:t,index:a,size:e.blockSize,opened:e.opened},on:{open:e.setOpened}},[e.hasRemainingBlocks?n("a17-button",{attrs:{slot:"block-actions",variant:"icon","data-action":""},on:{click:function(t){return e.duplicateBlock(a)}},slot:"block-actions"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]):e._e(),n("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[n("button",{attrs:{type:"button"},on:{click:function(t){return e.collapseAllBlocks()}}},[e._v("Collapse All")]),n("button",{attrs:{type:"button"},on:{click:function(t){return e.deleteBlock(a)}}},[e._v("Delete")]),e.hasRemainingBlocks?n("button",{attrs:{type:"button"},on:{click:function(t){return e.duplicateBlock(a)}}},[e._v("Duplicate")]):e._e()])],1)],1)})),0)],1),n("div",{staticClass:"content__trigger"},[e.hasRemainingBlocks&&e.blockType.trigger?n("a17-button",{class:e.triggerClass,attrs:{variant:e.triggerVariant,size:e.triggerSize},on:{click:function(t){return e.addBlock()}}},[e._v(e._s(e.blockType.trigger))]):e._e(),n("div",{staticClass:"content__note f--note f--small"},[e._t("default")],2)],1)],1)},Dt=[];function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t={name:"A17Repeater",components:{"a17-block":wt["default"],draggable:gt.a},mixins:[_t["a"]],props:{type:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{opened:!0,handle:".block__handle"}},computed:Bt({triggerVariant:function(){return this.inContentEditor?"aslink":"action"},triggerSize:function(){return this.inContentEditor?"small":""},triggerClass:function(){return this.inContentEditor?"content__button":""},blockSize:function(){return this.inContentEditor?"small":""},inContentEditor:function(){return"undefined"!==typeof this.$parent.repeaterName},hasRemainingBlocks:function(){return!this.blockType.hasOwnProperty("max")||this.blockType.max>this.blocks.length},blockType:function(){return this.availableBlocks[this.type]?this.availableBlocks[this.type]:{}},blocks:{get:function(){return this.savedBlocks.hasOwnProperty(this.name)&&this.savedBlocks[this.name]||[]},set:function(e){this.$store.commit(r["f"].REORDER_FORM_BLOCKS,{type:this.type,name:this.name,blocks:e})}}},Object(i["c"])({savedBlocks:function(e){return e.repeaters.repeaters},availableBlocks:function(e){return e.repeaters.availableRepeaters}})),methods:{setOpened:function(e){this.opened=e},addBlock:function(){this.opened=!0,this.$store.commit(r["f"].ADD_FORM_BLOCK,{type:this.type,name:this.name})},duplicateBlock:function(e){this.opened=!0,this.$store.commit(r["f"].DUPLICATE_FORM_BLOCK,{type:this.type,name:this.name,index:e})},deleteBlock:function(e){this.$store.commit(r["f"].DELETE_FORM_BLOCK,{type:this.type,name:this.name,index:e})},collapseAllBlocks:function(){this.opened=!1}},mounted:function(){var e=this;this.$nextTick((function(){e.savedBlocks.length>0&&e.collapseAllBlocks()}))}},At=$t,It=(n("af57"),Object(g["a"])(At,jt,Dt,!1,null,"f570ad32",null)),Nt=It.exports,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-inputframe",{attrs:{error:e.error,note:e.note,locale:e.locale,label:e.label,name:e.name,required:e.required},on:{localize:e.updateLocale}},[n("div",{staticClass:"form__field",class:e.textfieldClasses},[n("input",{attrs:{type:"search",placeholder:e.placeholder,name:e.name,id:e.name,disabled:e.disabled,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.address},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}),e.showMap?n("div",{staticClass:"form__field--showMap"},[n("a",{attrs:{href:"#",type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleMap(t)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"location"}}),n("span",{domProps:{innerHTML:e._s(e.mapMessage)}})])]):e._e(),n("input",{attrs:{type:"hidden",name:e.name+"__lat"},domProps:{value:e.lat}}),n("input",{attrs:{type:"hidden",name:e.name+"__lng"},domProps:{value:e.lng}})]),e.showMap?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMapOpen,expression:"isMapOpen"}],staticClass:"form__mapContainer"}):e._e()])},Mt=[],Vt=n("63ea"),zt=n.n(Vt),Ut=n("da6f"),Ft=n("67ff"),Wt=n("7a77"),Kt={show:window.$trans("fields.map.show"),hide:window.$trans("fields.map.hide")},Ht="https://maps.googleapis.com/maps/api/js?libraries=places&key=",Gt=window["TWILL"].hasOwnProperty("APIKEYS")&&window["TWILL"].APIKEYS.hasOwnProperty("googleMapApi")?window["TWILL"].APIKEYS.googleMapApi:null,qt={name:"A17Locationfield",mixins:[Ut["a"],C["a"],x["a"],Ft["a"]],props:{type:{type:String,default:"text"},zoom:{type:Number,default:15},showMap:{type:Boolean,default:!0},openMap:{type:Boolean,default:!1},initialLat:{type:Number,default:null},initialLng:{type:Number,default:null}},data:function(){return{map:null,autocompletePlace:null,markers:[],address:"",beforeFocusAddress:"",lat:this.initialLat,lng:this.initialLng,focused:!1,isMapOpen:this.openMap,mapMessage:this.openMap?Kt.hide:Kt.show}},computed:{value:{get:function(){return{latlng:this.lat+"|"+this.lng,address:this.address}},set:function(e){var t=e.latlng.split("|");this.lat=parseFloat(t[0]),this.lng=parseFloat(t[t.length-1]),this.address=e.address}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(e){if(!zt()(e,this.value)&&(this.value=e,this.clearMarkers(),""===this.address&&(this.lat=this.initialLat,this.lng=this.initialLng),this.lat&&this.lng&&this.map)){var t={lat:this.lat,lng:this.lng};this.addMarker(t),this.map.panTo(t)}},onFocus:function(e){this.focused=!0,this.beforeFocusAddress=this.address,this.$emit("focus")},onBlur:function(e){this.focused=!1,""===this.address&&(this.clearMarkers(),this.lat=this.initialLat,this.lng=this.initialLng),this.beforeFocusAddress!==this.address&&this.saveIntoStore(),this.$emit("blur")},onInput:function(e){var t=e.target.value;this.address=t,this.$emit("change",t)},onPlaceChanged:function(){var e=this.autocompletePlace.getPlace();if(this.clearMarkers(),this.clearLatLng(),e.geometry){var t=e.geometry.location;this.address=e.formatted_address,this.setLatLng(t),this.map&&(this.addMarker(t),this.map.panTo(t),this.map.setZoom(this.zoom))}this.beforeFocusAddress=this.address,this.saveIntoStore()},clearMarkers:function(){for(var e=0;e<this.markers.length;e++)this.markers[e]&&this.markers[e].setMap(null);this.markers=[]},clearLatLng:function(){this.lat=0,this.lng=0},addMarker:function(e){var t=new google.maps.Marker({position:e,map:this.map});this.markers.push(t)},setLatLng:function(e){this.lat=e.lat(),this.lng=e.lng()},toggleMap:function(){this.isMapOpen=!this.isMapOpen,this.mapMessage=this.isMapOpen?Kt.hide:Kt.show,this.map||"undefined"===typeof google||this.$nextTick((function(){this.initMap()}))},initMap:function(){var e=this.lat+this.lng,t={zoom:e?this.zoom:1,center:new google.maps.LatLng(this.lat,this.lng),mapTypeControl:!1,panControl:!1,zoomControl:!1,streetViewControl:!1},n=document.createElement("div");n.className="form__map",this.$el.querySelector(".form__mapContainer").appendChild(n),this.map=new google.maps.Map(n,t),e&&this.addMarker(new google.maps.LatLng(this.lat,this.lng))},initGeocoder:function(){var e=this;if(this.autocompletePlace=new google.maps.places.Autocomplete(this.$el.querySelector('input[type="search"]')),google.maps.event.addListener(this.autocompletePlace,"place_changed",this.onPlaceChanged),""===this.address&&this.lat&&this.lng){var t=new google.maps.Geocoder,n={lat:this.lat,lng:this.lng};t.geocode({location:n},(function(t,n){"OK"===n?t[1]?e.address=t[1].formatted_address:console.error("Geocoding - No results found"):console.error("Geocoding - Geocoder failed due to: "+n)}))}},initGoogleApi:function(){this.initGeocoder(),this.showMap&&this.isMapOpen&&this.initMap()}},mounted:function(){var e=this;if("undefined"!==typeof google)this.initGoogleApi();else{var t="google-map-api-script",n=Ht+Gt;Object(Wt["a"])(t,n,"text/javascript").then((function(){e.initGoogleApi()}))}},beforeDestroy:function(){"undefined"!==typeof google&&google.maps.event.clearListeners(this.autocompletePlace,"place_changed",this.onPlaceChanged)}},Yt=qt,Jt=(n("3565"),Object(g["a"])(Yt,Rt,Mt,!1,null,"e145ff86",null)),Zt=Jt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.keepAlive?[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}]},[e._t("default")],2)]:[e.open?n("div",[e._t("default")],2):e._e()]],2)},Xt=[],en=n("b8ce"),tn=n.n(en);function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn={name:"A17ConnectorField",props:{fieldName:{type:String,required:!0},requiredFieldValues:{default:""},inModal:{type:Boolean,default:!1},keepAlive:{type:Boolean,default:!1},isValueEqual:{type:Boolean,default:!0}},computed:an(an({storedValue:function(){return this.inModal?this.modalFieldValueByName(this.fieldName):this.fieldValueByName(this.fieldName)}},Object(i["b"])(["fieldValueByName","modalFieldValueByName"])),Object(i["c"])({fields:function(e){return e.form.fields},modalFields:function(e){return e.form.modalFields}})),data:function(){return{open:!1}},watch:{storedValue:function(e){this.toggleVisibility(e)}},methods:{toggleVisibility:function(e){var t=tn()(e),n=tn()(this.requiredFieldValues);Array.isArray(n)&&n.sort(),Array.isArray(t)&&t.sort(),this.isValueEqual?this.open=zt()(t,n):this.open=!zt()(t,n)}},mounted:function(){var e=this;this.$nextTick((function(){e.toggleVisibility(this.storedValue)}))}},ln=rn,sn=Object(g["a"])(ln,Qt,Xt,!1,null,null,null),cn=sn.exports,un=n("f389"),dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"overlay",class:e.overlayClasses},[n("div",{staticClass:"overlay__window"},[e.overlayTitle?n("header",{staticClass:"overlay__header"},[e._v(" "+e._s(e.overlayTitle)+" "),n("button",{staticClass:"overlay__close",attrs:{type:"button"},on:{click:e.hide}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}}),n("span",{staticClass:"overlay__closeLabel"},[e._v(e._s(e.$trans("overlay.close")))])])]):e._e(),e.active?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],staticClass:"overlay__content"},[e._t("default")],2):e._e()])])},pn=[],fn=n("0a8f");function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=document.documentElement,gn=fn["a"].overlay,_n=fn["a"].modal,yn={name:"A17Overlay",props:{title:{type:String,default:""},revisionTitle:{type:String,default:function(){return this.$trans("previewer.revision-history")}},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1},mode:{type:String,default:""}},data:function(){return{active:!1,hidden:!0,locked:!1}},computed:vn({activeRevision:function(){return Object.keys(this.currentRevision).length},overlayTitle:function(){return this.activeRevision?this.revisionTitle:this.title},overlayClasses:function(){return{"overlay--active":this.active,"overlay--hidden":this.hidden}}},Object(i["c"])({currentRevision:function(e){return e.revision.active}})),methods:{open:function(e){this.active&&!this.hidden||(this.active=!0,this.hidden=!1,hn.classList.add(gn),window.addEventListener("keyup",this.keyPressed),this.$emit("open"))},mask:function(){hn.classList.remove(gn),window.removeEventListener("keyup",this.keyPressed),this.$emit("close")},hide:function(){this.active&&(this.locked||(this.forceClose?this.close():(this.hidden=!0,this.mask())))},close:function(e){this.active&&(this.locked||(this.active=!1,this.mask()))},keyPressed:function(e){if(27===e.which||27===e.keyCode){if(hn.classList.contains(_n))return;this.hide(),this.$emit("esc-key")}}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&window.removeEventListener("keyup",this.keyPressed),this.$el.parentNode.removeChild(this.$el))}},wn=yn,On=(n("d5be"),Object(g["a"])(wn,dn,pn,!1,null,"b7b05f42",null)),kn=On.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-overlay",{ref:"overlay",attrs:{title:e.$trans("previewer.title")}},[e.revisions.length?n("div",{staticClass:"previewer",class:{"previewer--loading":e.loading}},[e.activeRevision?n("a17-button",{staticClass:"previewer__restore",attrs:{variant:"warning",size:"small"},on:{click:e.restoreRevision}},[e._v(e._s(e.$trans("previewer.restore")))]):e._e(),!e.activeRevision&&e.editor?n("a17-button",{staticClass:"previewer__restore",attrs:{variant:"editor",size:"small"},on:{click:e.openEditor}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"hide--xsmall",attrs:{symbol:"editor"}}),e._v(e._s(e.$trans("previewer.editor")))]):e._e(),n("div",{staticClass:"previewer__frame"},[n("div",{staticClass:"previewer__inner"},[n("div",{staticClass:"previewer__nav"},[n("div",{staticClass:"previewer__revisions"},[e.slipScreen?n("span",{staticClass:"tag tag--revision"},[e._v(e._s(e.$trans("previewer.past-revision")))]):e._e(),n("a17-dropdown",{ref:"previewRevisionsDropdown",attrs:{position:"bottom-left",maxWidth:400,maxHeight:300}},[n("a17-button",{staticClass:"previewer__trigger",on:{click:function(t){return e.$refs.previewRevisionsDropdown.toggle()}}},[e.activeRevision?[e._v(" "+e._s(e._f("formatDate")(e.currentRevision.datetime))+" ("+e._s(e.currentRevision.author)+") "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]:[e._v(" "+e._s(e.$trans("previewer.last-edit"))+" "),n("timeago",{attrs:{"auto-update":1,datetime:new Date(e.revisions[0].datetime)}}),e._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]],2),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},e._l(e.revisions,(function(t,a){return n("button",{key:t.id,staticClass:"previewerRevision",class:{"previewerRevision--active":e.currentRevision.id===t.id},attrs:{type:"button"},on:{click:function(n){return e.toggleRevision(t.id)}}},[n("span",{staticClass:"previewerRevision__author"},[e._v(e._s(t.author))]),n("span",{staticClass:"previewerRevision__datetime"},[0===a?n("span",{staticClass:"tag"},[e._v(e._s(e.$trans("previewer.current-revision")))]):e._e(),e._v(" "+e._s(e._f("formatDate")(t.datetime)))])])})),0)],1)],1),e.slipScreen?e._e():n("ul",{staticClass:"previewer__breakpoints"},e._l(e.breakpoints,(function(t){return n("li",{key:t.size,staticClass:"previewer__breakpoint",class:{"s--active":e.activeBreakpoint===t.size}},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.resizePreview(t.size)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:t.name}})])])})),0),e.activeRevision?n("div",{staticClass:"previewer__compare"},[e.slipScreen?n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.singleView(t)}}},[n("span",{staticClass:"previewer__compareLabel"},[e._v(e._s(e.$trans("previewer.single-view")))]),e._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"revision-single"}})]):n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.compareView(t)}}},[n("span",{staticClass:"previewer__compareLabel"},[e._v(e._s(e.$trans("previewer.compare-view")))]),e._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"revision-compare"}})])]):e._e()]),n("div",{staticClass:"previewer__content"},[n("div",{staticClass:"previewer__iframe"},[n("a17-iframe",{attrs:{content:e.activeRevision?e.activeContent:e.currentContent,size:e.activeBreakpoint,scrollPosition:e.scrollPosition},on:{scrollDoc:e.setIframeScroll}})],1),e.slipScreen?n("div",{staticClass:"previewer__iframe"},[n("div",{staticClass:"previewer__iframeInfos"},[n("span",{staticClass:"tag tag--revision"},[e._v(e._s(e.$trans("previewer.current-revision")))]),e._v(e._s(e.$trans("previewer.unsaved")))]),n("a17-iframe",{attrs:{content:e.currentContent,scrollPosition:e.scrollPosition},on:{scrollDoc:e.setIframeScroll}})],1):e._e()])])])],1):e._e()])},En=[],Cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{staticClass:"previewerframe",style:{width:e.size>0?e.size+"px":""},attrs:{srcdoc:e.content,frameborder:"0"},on:{load:e.loadPreview}})},xn=[],Sn={name:"A17previewerFrame",props:{size:{type:Number,default:0},content:{type:String,default:""},scrollPosition:{type:Number,default:0}},data:function(){return{currentScroll:this.scrollPosition}},watch:{scrollPosition:function(e){this.$el.contentWindow.scrollTo(0,e)}},methods:{loadPreview:function(e){for(var t=this,n=e.target,a=n.contentDocument.querySelectorAll("a:not(.sf-dump-toggle),button"),i=0;i<a.length;i++)a[i].setAttribute("disabled","disabled"),a[i].style.pointerEvents="none",a[i].onclick=function(){return!1};n.contentDocument.addEventListener("scroll",(function(e){var a=n.contentWindow.pageYOffset;a!==t.currentScroll&&(t.$emit("scrollDoc",a),t.currentScroll=a)})),this.$el.contentWindow.scrollTo(0,this.currentScroll)}}},jn=Sn,Dn=(n("a70b"),Object(g["a"])(jn,Cn,xn,!1,null,"7b1f8f6c",null)),Tn=Dn.exports;function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An={name:"A17Previewer",components:{"a17-iframe":Tn},data:function(){return{loadedCurrent:!1,slipScreen:!1,activeBreakpoint:1280,lastActiveBreakpoint:1280,scrollPosition:0,breakpoints:[{size:1280,name:"preview-desktop"},{size:1024,name:"preview-tablet-h"},{size:768,name:"preview-tablet-v"},{size:320,name:"preview-mobile"}]}},filters:k["a"],computed:Ln({activeRevision:function(){return Object.keys(this.currentRevision).length}},Object(i["c"])({editor:function(e){return e.content.editor},loading:function(e){return e.revision.loading},currentRevision:function(e){return e.revision.active},activeContent:function(e){return e.revision.activeContent},currentContent:function(e){return e.revision.currentContent},revisions:function(e){return e.revision.all},restoreRevisionUrl:function(e){return e.form.restoreUrl}})),methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this;function n(){t.$refs.overlay&&t.$refs.overlay.open(),t.singleView()}this.loadedCurrent=!1,this.activeBreakpoint=1280,this.lastActiveBreakpoint=1280,e?this.previewRevision(e,(function(){n()})):this.previewCurrent((function(){n()}))},close:function(){this.$refs.overlay.close()},openEditor:function(){var e=this.$root.$refs;e.preview&&e.preview.close(),e.editor&&e.editor.open()},restoreRevision:function(){window.location.href=this.restoreRevisionUrl+"?revisionId="+this.currentRevision.id},resizePreview:function(e){this.activeBreakpoint=parseInt(e),this.lastActiveBreakpoint=parseInt(e)},previewCurrent:function(e){this.$store.commit(r["n"].UPDATE_REV,0),this.loadCurrent(e)},loadCurrent:function(e){var t=this;this.loadedCurrent?e&&"function"===typeof e&&e():(this.loadedCurrent=!0,this.$store.dispatch(l["a"].GET_CURRENT).then((function(){e&&"function"===typeof e&&e()}),(function(e){t.$store.commit(r["f"].SET_FORM_ERRORS,e.response.data),t.$store.commit(r["j"].SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"})})))},toggleRevision:function(e){if(this.activeRevision&&this.currentRevision.id===e)return this.singleView(),void this.previewCurrent();this.previewRevision(e)},previewRevision:function(e,t){var n=this;this.$store.commit(r["n"].UPDATE_REV,e),this.$store.dispatch(l["a"].GET_REVISION).then((function(){t&&"function"===typeof t&&t()}),(function(e){n.$store.commit(r["j"].SET_NOTIF,{message:"Invalid revision.",variant:"error"})}))},compareView:function(){this.activeBreakpoint=0,this.slipScreen=!0,this.activeRevision&&this.loadCurrent()},singleView:function(){this.activeBreakpoint=this.lastActiveBreakpoint,this.slipScreen=!1},setIframeScroll:function(e){this.scrollPosition=e}}},In=An,Nn=(n("0bd3"),Object(g["a"])(In,Pn,En,!1,null,"617a3800",null)),Rn=Nn.exports,Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-overlay",{ref:"overlay",attrs:{title:e.$trans("editor.title")},on:{close:e.closeEditor,open:e.openEditor}},[n("div",{staticClass:"editor"},[e.revisions.length?n("a17-button",{staticClass:"editor__leave",attrs:{variant:"editor",size:"small"},on:{click:e.openPreview}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"hide--xsmall",attrs:{symbol:"preview"}}),e._v(e._s(e.$trans("fields.block-editor.preview","Preview")))]):e._e(),n("div",{staticClass:"editor__frame"},[n("div",{staticClass:"editor__inner"},[n("div",{ref:"sidebar",staticClass:"editor__sidebar",class:e.sidebarClass},[n("a17-editorsidebar",{on:{delete:e.deleteBlock,save:e.saveBlock,cancel:e.cancelBlock}},[e._v(e._s(e.$trans("fields.block-editor.add-content","Add content")))])],1),n("div",{staticClass:"editor__resizer",on:{mousedown:e.resize}},[n("span")]),n("div",{staticClass:"editor__preview",class:e.previewClass,style:e.previewStyle},[n("a17-editorpreview",{ref:"previews",on:{select:e.selectBlock,delete:e.deleteBlock,unselect:e.unselectBlock,add:e.addBlock}}),e.loading?n("a17-spinner",{attrs:{visible:!0}},[e._v(e._s(e.$trans("fields.block-editor.loading","Loading"))+"â¦")]):e._e()],1)])])],1)])},Vn=[],zn=n("66cb"),Un=n.n(zn),Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editorSidebar"},[e._l(e.blocks,(function(t,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isBlockActive(t.id),expression:"isBlockActive(block.id)"}],key:t.id,staticClass:"editorSidebar__item"},[n("div",{staticClass:"editorSidebar__title"},[n("div",{staticClass:"editorSidebar__blockTitle"},[n("a17-dropdown",{ref:e.moveDropdown(a),refInFor:!0,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[n("span",{staticClass:"editorSidebar__counter f--tiny",on:{click:function(t){return e.toggleDropdown(a)}}},[e._v(e._s(a+1))]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},e._l(e.blocks.length,(function(t){return n("button",{key:t,attrs:{type:"button"},on:{click:function(n){return e.moveBlock(a,t-1)}}},[e._v(e._s(t))])})),0)]),e._v(e._s(e.activeBlock.title)+" ")],1),n("span",[n("a",{staticClass:"f--small f--note f--underlined",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.deleteBlock(a)}}},[e._v(e._s(e.$trans("editor.delete")))])])]),n("div",{staticClass:"editorSidebar__body"},[n("a17-inputframe",{attrs:{label:"",name:"block."+t.id}}),n(""+t.type,e._b({key:"`editor_${block.type}_${block.id}`",tag:"component",attrs:{name:e.componentName(t.id)}},"component",t.attributes,!1))],1)])})),e.hasBlockActive?[n("div",{staticClass:"editorSidebar__actions"},[n("a17-button",{attrs:{variant:"action"},on:{click:function(t){return e.saveBlock()}}},[e._v(e._s(e.$trans("editor.done")))]),n("a17-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.cancelBlock()}}},[e._v(e._s(e.$trans("editor.cancel")))])],1)]:[n("div",{staticClass:"editorSidebar__list"},[n("h4",{staticClass:"editorSidebar__title"},[e._t("default")],2),e.availableBlocks.length?n("draggable",{attrs:{options:{group:{name:"editorBlocks",pull:"clone",put:!1},handle:".editorSidebar__button"}},model:{value:e.availableBlocks,callback:function(t){e.availableBlocks=t},expression:"availableBlocks"}},e._l(e.availableBlocks,(function(t){return n("div",{key:t.component,staticClass:"editorSidebar__button",attrs:{"data-title":t.title,"data-icon":t.icon,"data-component":t.component}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:t.icon}}),e._v(e._s(t.title)+" ")])})),0):e._e()],1),n("div",{staticClass:"editorSidebar__actions"},[e.isSubmitDisabled(e.submitOptions[0])?n("a17-button",{attrs:{variant:"validate",disabled:!0}},[e._v(e._s(e.submitOptions[0].text))]):n("a17-button",{attrs:{name:e.submitOptions[0].name,variant:"validate"},on:{click:function(t){return e.saveForm(e.submitOptions[0].name)}}},[e._v(e._s(e.submitOptions[0].text))])],1)]],2)},Wn=[];function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn={name:"A17editorsidebar",components:{draggable:gt.a},mixins:[_t["a"]],data:function(){return{}},computed:Hn({hasBlockActive:function(){return Object.keys(this.activeBlock).length>0},submitOptions:function(){return this.$store.getters.getSubmitOptions}},Object(i["c"])({activeBlock:function(e){return e.content.active},availableBlocks:function(e){return e.content.available},blocks:function(e){return e.content.blocks}})),methods:{isSubmitDisabled:function(e){return!!e.hasOwnProperty("disabled")&&!0===e.disabled},toggleDropdown:function(e){if(this.blocks.length>1){var t=this.moveDropdown(e);this.$refs[t].length&&this.$refs[t][0].toggle()}},moveDropdown:function(e){return"move".concat(e,"Dropdown")},isBlockActive:function(e){return!!this.hasBlockActive&&e===this.activeBlock.id},componentName:function(e){return"blocks["+e+"]"},moveBlock:function(e,t){e!==t&&this.$store.commit(r["d"].MOVE_BLOCK,{oldIndex:e,newIndex:t})},saveBlock:function(){this.$emit("save")},cancelBlock:function(){this.$emit("cancel")},deleteBlock:function(e){this.$emit("delete",e)},saveForm:function(e){this.$store.commit(r["m"].UPDATE_SAVE_TYPE,e),this.$root.submitForm&&this.$root.submitForm()}},mounted:function(){}},Yn=qn,Jn=(n("611f"),n("e431"),Object(g["a"])(Yn,Fn,Wn,!1,null,"0f6c2e43",null)),Zn=Jn.exports,Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editorPreview",attrs:{editorPreviewClass:e.editorPreviewClass},on:{mousedown:e.unselectBlock}},[e.blocks.length?e._e():n("div",{staticClass:"editorPreview__empty"},[n("b",[e._v("Drag and drop content from the left navigation")])]),n("draggable",{staticClass:"editorPreview__content",attrs:{options:{group:"editorBlocks",handle:e.handle}},on:{add:e.onAdd,update:e.onUpdate},model:{value:e.blocks,callback:function(t){e.blocks=t},expression:"blocks"}},e._l(e.blocks,(function(t,a){return n("div",{key:t.id,ref:t.id,refInFor:!0,staticClass:"editorPreview__item",class:{"editorPreview__item--active":e.isBlockActive(t.id),"editorPreview__item--hover":e.activeItem===a},on:{mousedown:function(e){e.stopPropagation()}}},[n("div",{staticClass:"editorPreview__frame"},[n("a17-editor-iframe",{attrs:{block:t},on:{loaded:e.resizeIframe}})],1),n("div",{staticClass:"editorPreview__protector editorPreview__dragger",on:{click:function(t){return t.preventDefault(),e.selectBlock(a)}}}),n("div",{staticClass:"editorPreview__header"},[n("a17-buttonbar",{attrs:{variant:"visible"}},[e.blocks.length>1?n("a17-dropdown",{ref:e.moveDropdown(a),refInFor:!0,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270},on:{open:function(t){e.activeItem=a},close:function(t){e.activeItem=-1}}},[n("button",{attrs:{type:"button"},on:{click:function(t){return e.toggleDropdown(a)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"drag"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},e._l(e.blocks.length,(function(t){return n("button",{key:t,attrs:{type:"button"},on:{click:function(n){return e.moveBlock(a,t-1)}}},[e._v(e._s(t))])})),0)]):e._e(),n("button",{attrs:{type:"button"},on:{click:function(t){return e.deleteBlock(a)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])],1)],1)])})),0)],1)},Xn=[],ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editorIframe"},[""===e.preview?n("div",{staticClass:"editorIframe__empty"},[e._v(" "+e._s(e.title)+" ")]):e._e(),n("iframe",{ref:"frame",attrs:{srcdoc:e.preview},on:{load:e.loadedPreview}})])},ta=[];function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(Object(n),!0).forEach((function(t){ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oa={name:"A17editoriframe",props:{block:{type:Object,default:function(){return{}}}},computed:aa(aa({preview:function(){return this.previewsById(this.block.id)||""},title:function(){return this.block.title||""}},Object(i["b"])(["previewsById"])),Object(i["c"])({savedBlocks:function(e){return e.content.blocks}})),methods:{setIframeHeight:function(){var e=this;this.$refs.frame&&window.requestAnimationFrame((function(){e.$refs.frame.style.height=e.$refs.frame.contentWindow.document.body.scrollHeight+"px"}))},loadedPreview:function(e){this.$refs.frame&&this.$refs.frame.srcdoc&&(this.$emit("loaded",this.$refs.frame),this.setIframeHeight())},handleResize:function(){this.setIframeHeight()}},mounted:function(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}},ra=oa,la=(n("da0c"),Object(g["a"])(ra,ea,ta,!1,null,"2fa81c14",null)),sa=la.exports;function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pa={name:"A17editorpreview",components:{draggable:gt.a,"a17-editor-iframe":sa},mixins:[_t["a"]],data:function(){return{activeItem:-1,blocksLoaded:0,handle:".editorPreview__dragger"}},computed:ua({blocks:{get:function(){return this.savedBlocks},set:function(e){}},hasBlockActive:function(){return Object.keys(this.activeBlock).length},editorPreviewClass:function(){return{"editorPreview--loading":this.loading}}},Object(i["c"])({loading:function(e){return e.content.loading},activeBlock:function(e){return e.content.active},savedBlocks:function(e){return e.content.blocks}})),methods:{toggleDropdown:function(e){if(this.blocks.length>1){var t=this.moveDropdown(e);this.$refs[t].length&&this.$refs[t][0].toggle()}},moveDropdown:function(e){return"movePreview".concat(e,"Dropdown")},moveBlock:function(e,t){e!==t&&this.$store.commit(r["d"].MOVE_BLOCK,{oldIndex:e,newIndex:t})},onAdd:function(e){var t=e.item,n={};n.title=t.getAttribute("data-title"),n.component=t.getAttribute("data-component"),n.icon=t.getAttribute("data-icon"),this.addBlock(n,Math.max(0,e.newIndex))},onUpdate:function(e){this.$store.commit(r["d"].MOVE_BLOCK,{oldIndex:e.oldIndex,newIndex:e.newIndex})},isBlockActive:function(e){return!!this.hasBlockActive&&e===this.activeBlock.id},addBlock:function(e,t){var n={title:e.title,type:e.component,icon:e.icon,attributes:e.attributes};this.$store.commit(r["d"].ADD_BLOCK,{block:n,index:t}),this.$emit("add",t)},deleteBlock:function(e){this.$emit("delete",e)},selectBlock:function(e){this.$emit("select",e)},unselectBlock:function(){this.$emit("unselect")},resizeIframe:function(e){var t=e.contentWindow.document.body;t.style.overflow="hidden";var n=window.getComputedStyle(t),a=n.getPropertyValue("margin-top"),i=n.getPropertyValue("margin-bottom"),o=t.scrollHeight+parseInt(a)+parseInt(i);e.height=o+"px"},resizeAllIframes:function(){var e=this,t=this.$el.querySelectorAll("iframe");t.forEach((function(t){e.resizeIframe(t)}))},_resize:b()((function(){this.resizeAllIframes()}),200),init:function(){window.addEventListener("resize",this._resize)},dispose:function(){window.removeEventListener("resize",this._resize)}},mounted:function(){this.init()},beforeDestroy:function(){this.dispose()}},fa=pa,ba=(n("2f7f"),Object(g["a"])(fa,Qn,Xn,!1,null,"3082648e",null)),va=ba.exports,ma=n("64e5"),ha=n("0644"),ga=n.n(ha);function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oa,ka=document.documentElement,Pa=fn["a"].editor,Ea={name:"A17Editor",components:{"a17-editorsidebar":Zn,"a17-editorpreview":va,"a17-spinner":ma["a"]},props:{bgColor:{type:String,default:"#FFFFFF"}},data:function(){return{isWatching:!1,unSubscribe:function(){return null}}},computed:ya({blocks:{get:function(){return this.savedBlocks},set:function(e){this.$store.commit(r["d"].REORDER_BLOCKS,e)}},hasBlockActive:function(){return Object.keys(this.activeBlock).length>0},previewClass:function(){var e=Un()(this.bgColor);return{"editor__preview--dark":e.getBrightness()<180,"editor__preview--loading":this.loading}},sidebarClass:function(){return{"editor__sidebar--mobile":this.hasBlockActive}},previewStyle:function(){return{"background-color":this.bgColor}}},Object(i["c"])({loading:function(e){return e.content.loading},activeBlock:function(e){return e.content.active},savedBlocks:function(e){return e.content.blocks},availableBlocks:function(e){return e.content.available},revisions:function(e){return e.revision.all}})),watch:{loading:function(e){var t=this;e||t.$nextTick((function(){setTimeout((function(){t.scrollToActive()}),250)}))}},methods:{open:function(e){this.getAllPreviews(),e>=0&&(this.selectBlock(e),this.scrollToActive()),this.$refs.overlay.open()},close:function(e){this.$refs.overlay.close()},openEditor:function(){ka.classList.add(Pa)},closeEditor:function(){this.unselectBlock(),ka.classList.remove(Pa)},scrollToActive:function(){if(this.hasBlockActive){var e=this.$refs.previews.$refs[this.activeBlock.id];if(e){var t=e[0].offsetTop,n=this.$el.querySelector(".editorPreview__content");n.scrollTop=Math.max(0,t-20)}}},isBlockActive:function(e){return!!this.hasBlockActive&&e===this.activeBlock.id},openPreview:function(){this.$root.$refs.preview&&this.$root.$refs.preview.open()},resize:function(){var e=this;window.addEventListener("mousemove",e.resizeSidebar,!1),window.addEventListener("mouseup",e.stopResizeSidebar,!1)},resizeSidebar:function(e){var t=this.$refs.sidebar,n=window.innerWidth;t&&(t.style.width=(e.clientX-t.offsetLeft)/n*100+"%")},stopResizeSidebar:function(){var e=this;window.removeEventListener("mousemove",e.resizeSidebar,!1),window.removeEventListener("mouseup",e.stopResizeSidebar,!1),this.$refs.previews.resizeAllIframes()},saveBlock:function(){this.hasBlockActive&&this.getPreview(),this.unselectBlock()},addBlock:function(e){this.selectBlock(e),this.getPreview(e)},deleteBlock:function(e){var t=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){t.unselectBlock(),t.$store.commit(r["d"].DELETE_BLOCK,e)})):(this.unselectBlock(),this.$store.commit(r["d"].DELETE_BLOCK,e))},cancelBlock:function(){this.hasBlockActive&&(window["TWILL"].hasOwnProperty("PREVSTATE")&&this.$store.replaceState(window["TWILL"].PREVSTATE),this.getPreview()),this.unselectBlock()},getBlockId:function(e){return"undefined"===typeof this.blocks[e]?0:this.blocks[e].id},getAllPreviews:function(){this.$store.dispatch(l["a"].GET_ALL_PREVIEWS)},getPreview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.$store.dispatch(l["a"].GET_PREVIEW,e)},selectBlock:function(e){var t=this,n=this.getBlockId(e);n&&(this.isBlockActive(n)?this.unselectBlock():(window["TWILL"].PREVSTATE=ga()(this.$store.state),this.$store.commit(r["d"].ACTIVATE_BLOCK,e),this.isWatching||(this.isWatching=!0,this.unSubscribe=this.$store.subscribe((function(e,n){r["l"].REFRESH_BLOCK_PREVIEW.includes(e.type)&&(r["l"].REFRESH_BLOCK_PREVIEW_ALL.includes(e.type)?t.getAllPreviews():t.getPreview())})))))},unselectBlock:function(){this.unSubscribe(),this.isWatching=!1,window["TWILL"].hasOwnProperty("PREVSTATE")&&delete window["TWILL"].PREVSTATE,this.hasBlockActive&&this.$store.commit(r["d"].ACTIVATE_BLOCK,-1)}},mounted:function(){}},Ca=Ea,xa=(n("9881"),Object(g["a"])(Ca,Mn,Vn,!1,null,"cc4b6c2e",null)),Sa=xa.exports,ja=n("2e01"),Da=n("54d3"),Ta=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a17-modal",{ref:"modal",staticClass:"modal--form",attrs:{title:e.modalTitle,forceClose:!0}},[n("form",{attrs:{action:e.formCreate},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e._t("default"),n("a17-modal-validation",{attrs:{"is-disable":!0}})],2)])},Ba=[],La={name:"A17ModalAdd",props:{name:{type:String,default:""},modalTitle:{type:String,default:"Add new"},formCreate:{type:String,default:"#"}},components:{"a17-modal-validation":E["a"]},methods:{open:function(){this.$refs.modal&&this.$refs.modal.open()},submit:function(e){var t=this;this.$store.commit(r["f"].UPDATE_FORM_LOADING,!0);var n=document.activeElement.name;this.$nextTick((function(){this.$store.dispatch(l["a"].CREATE_FORM_IN_MODAL,{name:this.name,endpoint:this.formCreate,method:"post"}).then((function(){t.$refs.modal&&t.$refs.modal.close(),t.$nextTick((function(){t.$store.commit(r["j"].SET_NOTIF,{message:"Your content has been added",variant:"success"}),"create-another"===n&&t.$refs.modal&&t.$refs.modal.open()}))}),(function(e){t.$store.commit(r["j"].SET_NOTIF,{message:"Your content can not be added, please retry",variant:"error"})}))}))}}},$a=La,Aa=Object(g["a"])($a,Ta,Ba,!1,null,null,null),Ia=Aa.exports,Na=n("ce72");function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ma,Va,za={withPublicationToggle:window["TWILL"].STORE.publication.withPublicationToggle||!1,published:window["TWILL"].STORE.publication.published||!1,publishSubmit:window["TWILL"].STORE.publication.published||!window["TWILL"].STORE.publication.withPublicationToggle?"update":"live",publishedLabel:window["TWILL"].STORE.publication.publishedLabel||"Live",draftLabel:window["TWILL"].STORE.publication.draftLabel||"Draft",withPublicationTimeframe:window["TWILL"].STORE.publication.withPublicationTimeframe||!1,startDate:window["TWILL"].STORE.publication.startDate||null,endDate:window["TWILL"].STORE.publication.endDate||null,visibility:window["TWILL"].STORE.publication.visibility||!1,reviewProcess:window["TWILL"].STORE.publication.reviewProcess||[],createWithoutModal:window["TWILL"].STORE.publication.createWithoutModal||!1,saveType:void 0,visibilityOptions:[{value:"public",label:"Public"},{value:"private",label:"Private"}],submitDisableMessage:window["TWILL"].STORE.publication.submitDisableMessage||"",submitOptions:window["TWILL"].STORE.publication.submitOptions||{draft:[{name:"save",text:window.$trans("publisher.save","Save as draft"),disabled:!1},{name:"save-close",text:window.$trans("publisher.save-close","Save as draft and close"),disabled:!1},{name:"save-new",text:window.$trans("publisher.save-new","Save as draft and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}],live:[{name:"publish",text:window.$trans("publisher.publish","Publish"),disabled:!1},{name:"publish-close",text:window.$trans("publisher.publish-close","Publish and close"),disabled:!1},{name:"publish-new",text:window.$trans("publisher.publish-new","Publish and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}],update:[{name:"update",text:window.$trans("publisher.update","Update"),disabled:!1},{name:"update-close",text:window.$trans("publisher.update-close","Update and close"),disabled:!1},{name:"update-new",text:window.$trans("publisher.update-new","Update and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}]}},Ua={reviewProcessComplete:function(e){return e.reviewProcess.filter((function(e){return e.checked}))},getSubmitOptions:function(e){return e.createWithoutModal?e.submitOptions.draft:e.published||!e.withPublicationToggle?e.submitOptions[e.publishSubmit]:e.submitOptions.draft},isEnabledSubmitOption:function(e,t){return function(e){var n=!0,a={},i=t.getSubmitOptions.filter((function(t){return t.name===e}));return i.length&&(a=i[0]),a.hasOwnProperty("disabled")&&(n=!a.disabled),n}},getSaveType:function(e,t){return e.saveType||t.getSubmitOptions[0].name}},Fa=(Oa={},Ra(Oa,r["m"].UPDATE_PUBLISH_START_DATE,(function(e,t){e.startDate=t})),Ra(Oa,r["m"].UPDATE_PUBLISH_END_DATE,(function(e,t){e.endDate=t})),Ra(Oa,r["m"].UPDATE_PUBLISH_STATE,(function(e,t){e.published=t})),Ra(Oa,r["m"].UPDATE_PUBLISH_SUBMIT,(function(e){e.publishSubmit=e.published||!e.withPublicationToggle?"update":"live"})),Ra(Oa,r["m"].UPDATE_PUBLISH_VISIBILITY,(function(e,t){e.visibility=t})),Ra(Oa,r["m"].UPDATE_REVIEW_PROCESS,(function(e,t){var n="",a=-1;t.length&&(n=t[t.length-1],e.reviewProcess.forEach((function(e,t){e.value===n&&(a=t)}))),e.reviewProcess.forEach((function(e,t){e.checked=t<=a,e.disabled=!(t===a||t===a+1)}))})),Ra(Oa,r["m"].UPDATE_SAVE_TYPE,(function(e,t){e.saveType=t})),Oa),Wa={state:za,getters:Ua,mutations:Fa},Ka=n("bc3a"),Ha=n.n(Ka),Ga=n("727d"),qa={getBlockPreview:function(e,t,n,a){Ha.a.post(e,t).then((function(e){n&&"function"===typeof n&&n(e.data)}),(function(e){var t={message:"Block preview request error.",value:e};Object(Ga["a"])("CONTENT",t),a&&"function"===typeof a&&a(e)}))}},Ya=n("9170");function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Za={loading:!1,editor:window["TWILL"].STORE.form.editor||!1,available:window["TWILL"].STORE.form.content||{},blocks:window["TWILL"].STORE.form.blocks||[],previews:window["TWILL"].STORE.form.previews||{},active:{}},Qa={previewsById:function(e){return function(t){return e.previews[t]?e.previews[t]:""}}};function Xa(){return Date.now()}var ei=(Ma={},Ja(Ma,r["d"].ADD_BLOCK,(function(e,t){var n=t.block;n.id=Xa(),t.index>-1?e.blocks.splice(t.index,0,n):e.blocks.push(n)})),Ja(Ma,r["d"].MOVE_BLOCK,(function(e,t){if(t.newIndex>=e.blocks.length){var n=t.newIndex-e.blocks.length;while(1+n--)e.blocks.push(void 0)}e.blocks.splice(t.newIndex,0,e.blocks.splice(t.oldIndex,1)[0])})),Ja(Ma,r["d"].DELETE_BLOCK,(function(e,t){var n=e.blocks[t].id;n&&a["a"].delete(e.previews,n),e.blocks.splice(t,1)})),Ja(Ma,r["d"].DUPLICATE_BLOCK,(function(e,t){var n=Object.assign({},e.blocks[t]);n.id=Xa(),e.blocks.splice(t+1,0,n)})),Ja(Ma,r["d"].REORDER_BLOCKS,(function(e,t){e.blocks=t})),Ja(Ma,r["d"].ACTIVATE_BLOCK,(function(e,t){e.blocks[t]?e.active=e.blocks[t]:e.active={}})),Ja(Ma,r["d"].ADD_BLOCK_PREVIEW,(function(e,t){a["a"].set(e.previews,t.id,t.html)})),Ja(Ma,r["d"].UPDATE_PREVIEW_LOADING,(function(e,t){e.loading=!e.loading})),Ma);function ti(e,t,n,a){if(e.hasOwnProperty("id")){var i=Object(Ya["a"])(e,n);n.language.all.length>1&&(i.activeLanguage=n.language.active.value),Object(Ya["e"])(i)?(t(r["d"].ADD_BLOCK_PREVIEW,{id:e.id,html:""}),a&&"function"===typeof a&&a()):qa.getBlockPreview(n.form.blockPreviewUrl,i,(function(n){t(r["d"].ADD_BLOCK_PREVIEW,{id:e.id,html:n}),a&&"function"===typeof a&&a()}),(function(e){}))}}var ni,ai,ii=(Va={},Ja(Va,l["a"].GET_PREVIEW,(function(e){var t=e.commit,n=e.state,a=e.rootState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=i>=0?n.blocks[i]:{};n.active.hasOwnProperty("id")&&-1===i&&(o=n.active),ti(o,t,a)})),Ja(Va,l["a"].GET_ALL_PREVIEWS,(function(e){var t=e.commit,n=e.state,a=e.rootState;if(n.blocks.length&&!n.loading){t(r["d"].UPDATE_PREVIEW_LOADING,!0);var i=0;n.blocks.forEach((function(e){ti(e,t,a,(function(){i++,i===n.blocks.length&&t(r["d"].UPDATE_PREVIEW_LOADING,!0)}))}))}})),Va),oi={state:Za,getters:Qa,mutations:ei,actions:ii},ri=n("c5ec"),li={getRevisionContent:function(e,t,n,a){Ha.a.put(e,t).then((function(e){n&&"function"===typeof n&&n(e.data)}),(function(e){var t={message:"Preview request error.",value:e};Object(Ga["a"])("REVISION",t),a&&"function"===typeof a&&a(e)}))}};function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ci,ui={loading:!1,active:{},activeContent:"",currentContent:"",all:window["TWILL"].STORE.revisions||[]},di={},pi=(ni={},si(ni,r["n"].LOADING_REV,(function(e){e.loading=!0})),si(ni,r["n"].UPDATE_REV,(function(e,t){function n(e){return e.id===t}var a=e.all.findIndex(n);e.active=-1!==a?e.all[a]:{}})),si(ni,r["n"].UPDATE_REV_CONTENT,(function(e,t){e.loading=!1,e.activeContent=t})),si(ni,r["n"].UPDATE_REV_CURRENT_CONTENT,(function(e,t){e.loading=!1,e.currentContent=t})),si(ni,r["n"].UPDATE_REV_ALL,(function(e,t){e.all=t})),ni),fi=(ai={},si(ai,l["a"].GET_CURRENT,(function(e){var t=e.commit,n=e.rootState;return new Promise((function(e,a){t(r["n"].LOADING_REV);var i=Object(Ya["b"])(n);n.language.all.length>1&&(i.activeLanguage=n.language.active.value),li.getRevisionContent(n.form.previewUrl,i,(function(n){t(r["n"].UPDATE_REV_CURRENT_CONTENT,n),e()}),(function(e){a(e)}))}))})),si(ai,l["a"].GET_REVISION,(function(e){var t=e.commit,n=e.state,a=e.rootState;return new Promise((function(e,i){t(r["n"].LOADING_REV);var o=0;o=0===Object.keys(n.active).length?n.all[0].id:n.active.id;var l={revisionId:o};a.language.all.length>1&&(l.activeLanguage=a.language.active.value),li.getRevisionContent(a.form.previewUrl,l,(function(n){t(r["n"].UPDATE_REV_CONTENT,n),e()}),(function(e){i(e)}))}))})),ai),bi={state:ui,getters:di,actions:fi,mutations:pi},vi=n("38c2");function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hi={repeaters:window["TWILL"].STORE.form.repeaters||{},availableRepeaters:window["TWILL"].STORE.form.availableRepeaters||{}},gi={};function _i(){return Date.now()}var yi=(ci={},mi(ci,r["f"].ADD_FORM_BLOCK,(function(e,t){var n=t.name,a=t.type,i={},o=e.availableRepeaters[a],r=!e.repeaters[n];if(o)if(i.id=_i(),i.type=o.component,i.title=o.title,r){var l={};l[n]=[],l[n].push(i),e.repeaters=Object.assign({},e.repeaters,l)}else e.repeaters[n].push(i)})),mi(ci,r["f"].DELETE_FORM_BLOCK,(function(e,t){e.repeaters[t.name].splice(t.index,1)})),mi(ci,r["f"].DUPLICATE_FORM_BLOCK,(function(e,t){var n=Object.assign({},e.repeaters[t.name][t.index]);n.id=_i(),e.repeaters[t.name].splice(t.index+1,0,n)})),mi(ci,r["f"].REORDER_FORM_BLOCKS,(function(e,t){var n={};n[t.name]=t.blocks,e.repeaters=Object.assign({},e.repeaters,n)})),ci),wi={state:hi,getters:gi,mutations:yi};function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ki={active:window["TWILL"].STORE.parentId||0,all:window["TWILL"].STORE.parents||[]},Pi={},Ei=Oi({},r["k"].UPDATE_PARENT,(function(e,t){e.active=t||0})),Ci={state:ki,getters:Pi,mutations:Ei},xi=n("f451"),Si=n("4868"),ji=n("f0f8");function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a["a"].use(ja["a"]),a["a"].use(Da["a"]),o["a"].registerModule("form",Na["a"]),o["a"].registerModule("publication",Wa),o["a"].registerModule("content",oi),o["a"].registerModule("language",ri["a"]),o["a"].registerModule("revision",bi),o["a"].registerModule("browser",vi["a"]),o["a"].registerModule("repeaters",wi),o["a"].registerModule("parents",Ci),o["a"].registerModule("attributes",xi["a"]),a["a"].component("a17-fieldset",I["a"]),a["a"].component("a17-publisher",ot),a["a"].component("a17-title-editor",$),a["a"].component("a17-content",St),a["a"].component("a17-page-nav",bt),a["a"].component("a17-langswitcher",A["a"]),a["a"].component("a17-sticky-nav",y),a["a"].component("a17-spinner",ma["a"]),a["a"].component("a17-repeater",Nt),a["a"].component("a17-browser",un["a"]),a["a"].component("a17-connectorfield",cn),a["a"].component("a17-locationfield",Zt),a["a"].component("a17-overlay",kn),a["a"].component("a17-previewer",Rn),a["a"].component("a17-editor",Sa),a["a"].component("a17-modal-add",Ia);var Li=n("9748");Li.keys().map((function(e){var t=e.replace(/customs\//,""),n=t.match(/\w+/)[0].replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();if("block"!==n)return a["a"].component("a17-"+n,Li(e).default)})),"undefined"!==typeof window["TWILL"].TWILL_BLOCKS_COMPONENTS&&window["TWILL"].TWILL_BLOCKS_COMPONENTS.map((function(e){return a["a"].component("a17-block-"+e,{template:"#a17-block-"+e,mixins:[ji["a"]]})}));var $i=n("1591");$i.keys().map((function(e){var t=e.match(/\w+/)[0].replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();return a["a"].component("a17-"+t,$i(e).default)})),window["TWILL"].vm=window.vm=new a["a"]({store:o["a"],el:"#app",mixins:[Si["a"],yt["a"]],data:function(){return{unSubscribe:function(){return null},isFormUpdated:!1}},computed:Ti(Ti({},Object(i["c"])({loading:function(e){return e.form.loading},editor:function(e){return e.content.editor},isCustom:function(e){return e.form.isCustom}})),Object(i["b"])(["getSaveType","isEnabledSubmitOption"])),methods:{submitForm:function(e){var t=this;this.loading||(this.isFormUpdated=!1,this.$store.commit(r["f"].UPDATE_FORM_LOADING,!0),this.unSubscribe(),this.$nextTick((function(){var e=t.getSaveType||document.activeElement.name;t.isEnabledSubmitOption(e)?t.$store.dispatch(l["a"].SAVE_FORM,e).then((function(){t.mutationsSubscribe()})):(t.$store.commit(r["f"].UPDATE_FORM_LOADING,!1),t.mutationsSubscribe())})))},confirmExit:function(e){if(this.isFormUpdated&&!this.isCustom)return"message";void 0!==window.event?window.event.cancelBubble=!0:e.cancelBubble=!0},mutationsSubscribe:function(){var e=this;this.unSubscribe=this.$store.subscribe((function(t,n){s["a"].includes(t.type)&&(e.isFormUpdated=!0,e.unSubscribe())}))}},mounted:function(){var e=this;this.$nextTick((function(){window.onbeforeunload=e.confirmExit,e.mutationsSubscribe()}))},beforeDestroy:function(){this.unSubscribe()},created:function(){Object(u["a"])()}}),document.addEventListener("DOMContentLoaded",c["a"])},faa7:function(e,t,n){},fdff:function(e,t,n){},ffdb:function(e,t,n){"use strict";var a=n("2741"),i=n.n(a);i.a}});